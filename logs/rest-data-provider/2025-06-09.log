2025-06-09 15:48:06.835 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:06.835 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:06.835 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:06.835 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:06.835 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:06.835 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:06.836 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:06.836 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:06.837 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:06.837 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:06.837 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:06.837 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:06.837 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:06.837 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:07.837 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:07.837 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:07.837850472Z
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:07.837 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:07.837850472Z
2025-06-09 15:48:07.837 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:07.837 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:07.837850472Z is not within any holiday period.
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:07.837850472Z is dow: MONDAY
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:07.837 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:07.838 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:07.838 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.839 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:07.839 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:07.840 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:07.840 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:07.840 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:07.841 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:08.841 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:08.841 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:08.841555132Z
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:08.841 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:08.841555132Z
2025-06-09 15:48:08.841 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:08.841 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:08.841555132Z is not within any holiday period.
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:08.841555132Z is dow: MONDAY
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:08.841 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:08.841 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:08.841 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:08.841 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:08.841 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:08.842 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:08.842 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:08.842 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:08.842 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:08.842 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.842 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:08.843 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:08.843 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:08.844 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:08.844 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:08.845 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:08.845 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:09.845 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:09.845 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.845 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:09.845836818Z
2025-06-09 15:48:09.845 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:09.845 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:09.845836818Z
2025-06-09 15:48:09.845 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:09.845 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:09.845 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:09.845836818Z is not within any holiday period.
2025-06-09 15:48:09.845 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:09.845836818Z is dow: MONDAY
2025-06-09 15:48:09.846 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:09.846 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:09.846 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:09.846 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:09.846 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:09.846 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:09.846 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:09.846 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:09.847 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.847 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:09.848 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:09.848 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:09.849 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:09.849 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:09.848 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:09.849 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:10.849 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:10.849 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:10.849572760Z
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:10.849 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:10.849572760Z
2025-06-09 15:48:10.849 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:10.849 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:10.849572760Z is not within any holiday period.
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:10.849572760Z is dow: MONDAY
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:10.849 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:10.849 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:10.849 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:10.849 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:10.849 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:10.850 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:10.850 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:10.851 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:10.851 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:10.852 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:10.852 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:10.852 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:10.852 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:11.852 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:11.853 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:11.853153441Z
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:11.853 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:11.853153441Z
2025-06-09 15:48:11.853 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:11.853 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:11.853153441Z is not within any holiday period.
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:11.853153441Z is dow: MONDAY
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:11.853 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:11.853 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:11.853 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:11.853 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:11.853 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:11.853 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:11.853 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:11.854 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:11.854 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:11.854 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:11.855 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:11.855 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:11.856 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:11.856 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:11.856 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:11.856 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:12.856 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:12.856 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.856 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:12.856853261Z
2025-06-09 15:48:12.856 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:12.856 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:12.856853261Z
2025-06-09 15:48:12.856 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:12.857 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:12.857 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:12.856853261Z is not within any holiday period.
2025-06-09 15:48:12.857 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:12.856853261Z is dow: MONDAY
2025-06-09 15:48:12.857 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:12.857 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:12.857 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:12.857 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:12.857 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:12.857 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:12.857 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:12.857 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:12.857 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:12.857 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:12.857 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:12.857 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:12.858 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.858 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:12.859 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:12.859 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:12.860 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:12.860 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:12.860 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:12.860 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:12.860 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:12.860 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:13.860 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:13.860 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.860 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:13.860937906Z
2025-06-09 15:48:13.860 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:13.860 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:13.860937906Z
2025-06-09 15:48:13.860 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:13.861 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:13.861 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:13.860937906Z is not within any holiday period.
2025-06-09 15:48:13.861 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:13.860937906Z is dow: MONDAY
2025-06-09 15:48:13.861 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:13.861 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.861 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.861 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.862 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:13.862 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:13.863 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:13.863 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:13.864 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:13.864 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:13.864 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:13.864 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:13.864 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:13.864 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:14.864 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:14.864 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:14.865000330Z
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:14.865 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:14.865000330Z
2025-06-09 15:48:14.865 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:14.865 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:14.865000330Z is not within any holiday period.
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:14.865000330Z is dow: MONDAY
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:14.865 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:14.865 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:14.865 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:14.865 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:14.865 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:14.865 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:14.865 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:14.865 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:14.866 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:14.866 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:14.867 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:14.868 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:14.868 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:14.868 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:14.868 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:14.868 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:14.868 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:15.868 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:15.868 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:15.868792352Z
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:15.868 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:15.868792352Z
2025-06-09 15:48:15.868 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:15.868 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:15.868792352Z is not within any holiday period.
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:15.868792352Z is dow: MONDAY
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:15.868 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:15.869 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:15.869 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:15.869 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:15.869 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:15.869 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:15.869 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:15.870 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.870 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:15.871 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:15.871 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:15.872 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:15.872 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:15.872 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:15.872 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:15.872 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:15.872 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:16.872 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:16.872 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.872 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:16.872966307Z
2025-06-09 15:48:16.872 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:16.873 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:16.872966307Z
2025-06-09 15:48:16.873 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:16.873 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:16.873 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:16.872966307Z is not within any holiday period.
2025-06-09 15:48:16.873 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:16.872966307Z is dow: MONDAY
2025-06-09 15:48:16.873 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:16.873 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:16.873 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:16.873 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:16.873 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:16.873 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:16.873 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:16.873 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.874 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:16.875 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:16.875 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:16.876 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:16.876 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:16.877 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:16.877 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:17.877 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:17.877 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:17.877647656Z
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:17.877 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:17.877647656Z
2025-06-09 15:48:17.877 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:17.877 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:17.877647656Z is not within any holiday period.
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:17.877647656Z is dow: MONDAY
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:17.877 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:17.877 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:17.877 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:17.877 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:17.877 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:17.878 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.878 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:17.879 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:17.880 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:17.879 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:17.880 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:17.880 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:17.880 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:17.880 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:17.880 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.880 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:18.880 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.880 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:18.880974803Z
2025-06-09 15:48:18.881 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:18.881 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:18.880974803Z
2025-06-09 15:48:18.881 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:18.881 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:18.881 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:18.880974803Z is not within any holiday period.
2025-06-09 15:48:18.881 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:18.880974803Z is dow: MONDAY
2025-06-09 15:48:18.881 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:18.881 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:18.881 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.881 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.881 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:18.881 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:18.881 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:18.881 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:18.882 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:18.882 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:18.883 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:18.883 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:18.884 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:18.884 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:19.884 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:19.884 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:19.884581546Z
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:19.884 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:19.884581546Z
2025-06-09 15:48:19.884 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:19.884 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:19.884581546Z is not within any holiday period.
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:19.884581546Z is dow: MONDAY
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:19.884 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:19.884 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:19.884 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:19.884 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:19.884 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:19.885 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.885 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:19.886 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:19.886 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:19.887 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:19.887 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:19.887 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:19.887 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:19.887 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:19.887 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:19.887 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:19.887 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:19.887 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:20.887 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:20.887 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:20.888029948Z
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:20.888 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:20.888029948Z
2025-06-09 15:48:20.888 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:20.888 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:20.888029948Z is not within any holiday period.
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:20.888029948Z is dow: MONDAY
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:20.888 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:20.888 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:20.888 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:20.888 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:20.888 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:20.888 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:20.888 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:20.888 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:20.888 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:20.888 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:20.888 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:20.889 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:20.889 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:20.890 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:20.890 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:20.891 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:20.891 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:20.891 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:20.891 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:20.891 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:20.891 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:21.363 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:48:21.363 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:48:21.363 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:48:21.364 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:48:21.365 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:48:21.365 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:48:21.891 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:21.891 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:21.891760878Z
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:21.891 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:21.891760878Z
2025-06-09 15:48:21.891 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:21.891 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:21.891760878Z is not within any holiday period.
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:21.891760878Z is dow: MONDAY
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:21.891 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.892 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:21.892 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:21.893 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:21.893 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:21.894 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:21.894 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:21.894 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:21.894 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:21.894 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:21.894 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:21.894 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:21.895 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:22.895 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:22.895 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:22.895370261Z
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:22.895 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:22.895370261Z
2025-06-09 15:48:22.895 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:22.895 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:22.895370261Z is not within any holiday period.
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:22.895370261Z is dow: MONDAY
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:22.895 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:22.895 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:22.895 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:22.895 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:22.895 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.896 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:22.896 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:22.897 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:22.897 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:22.897 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:22.898 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:22.898 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:22.898 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.898 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:23.898 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:23.898563021Z
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:23.898 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:23.898563021Z
2025-06-09 15:48:23.898 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:23.898 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:23.898563021Z is not within any holiday period.
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:23.898563021Z is dow: MONDAY
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:23.898 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:23.898 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:23.898 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:23.898 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:23.898 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:23.899 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:23.899 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:23.900 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:23.901 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:23.900 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:23.901 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:23.901 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:23.901 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:23.901 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:23.901 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:23.901 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:24.901 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:24.901 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.901 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:24.901917537Z
2025-06-09 15:48:24.901 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:24.901 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:24.901917537Z
2025-06-09 15:48:24.901 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:24.901 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:24.902 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:24.901917537Z is not within any holiday period.
2025-06-09 15:48:24.902 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:24.901917537Z is dow: MONDAY
2025-06-09 15:48:24.902 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:24.902 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:24.902 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:24.902 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:24.903 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:24.903 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:24.904 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:24.904 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:24.904 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:24.905 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:25.905 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:25.905 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:25.905421212Z
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:25.905 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:25.905421212Z
2025-06-09 15:48:25.905 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:25.905 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:25.905421212Z is not within any holiday period.
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:25.905421212Z is dow: MONDAY
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:25.905 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:25.905 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:25.905 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:25.905 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:25.905 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.906 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:25.906 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:25.907 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:25.907 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:25.908 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:25.907 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:25.908 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:25.908 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:25.908 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.908 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:26.908 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:26.908489856Z
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:26.908 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:26.908489856Z
2025-06-09 15:48:26.908 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:26.908 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:26.908489856Z is not within any holiday period.
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:26.908489856Z is dow: MONDAY
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:26.908 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:26.908 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:26.908 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:26.908 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:26.908 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:26.909 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:26.909 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:26.910 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:26.910 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:26.910 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:26.910 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:26.910 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:27.910 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:27.910 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:27.911032096Z
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:27.911 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:27.911032096Z
2025-06-09 15:48:27.911 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:27.911 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:27.911032096Z is not within any holiday period.
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:27.911032096Z is dow: MONDAY
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:27.911 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.911 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:27.911 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:27.912 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:27.912 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:27.913 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:27.913 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:28.913 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:28.913 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:28.913493903Z
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:28.913 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:28.913493903Z
2025-06-09 15:48:28.913 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:28.913 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:28.913493903Z is not within any holiday period.
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:28.913493903Z is dow: MONDAY
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:28.913 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:28.913 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:28.913 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:28.913 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:28.913 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.914 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:28.914 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:28.915 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:28.915 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:28.915 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:28.916 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:29.916 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:29.916 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:29.916383822Z
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:29.916 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:29.916383822Z
2025-06-09 15:48:29.916 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:29.916 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:29.916383822Z is not within any holiday period.
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:29.916383822Z is dow: MONDAY
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:29.916 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:29.916 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:29.916 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:29.916 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:29.916 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.917 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:29.917 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:29.918 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:29.918 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:29.919 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:29.919 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:29.919 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:29.919 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:29.919 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:30.919 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:30.919 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:30.919633685Z
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:30.919 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:30.919633685Z
2025-06-09 15:48:30.919 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:30.919 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:30.919633685Z is not within any holiday period.
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:30.919633685Z is dow: MONDAY
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:30.919 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:30.919 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:30.919 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:30.919 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:30.919 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:30.920 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:30.920 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:30.921 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:30.921 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:30.922 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:30.922 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:30.922 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:30.922 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:30.922 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:30.922 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:31.922 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:31.923 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:31.923100522Z
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:31.923 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:31.923100522Z
2025-06-09 15:48:31.923 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:31.923 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:31.923100522Z is not within any holiday period.
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:31.923100522Z is dow: MONDAY
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:31.923 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:31.923 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:31.923 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:31.923 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.923 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.924 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:31.924 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:31.925 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:31.925 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:31.926 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:31.926 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:31.926 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:31.926 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:31.926 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:31.926 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:32.926 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:32.926 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:32.926789558Z
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:32.926 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:32.926789558Z
2025-06-09 15:48:32.926 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:32.926 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:32.926789558Z is not within any holiday period.
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:32.926789558Z is dow: MONDAY
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:32.926 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:32.927 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:32.927 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:32.927 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:32.927 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:32.927 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.928 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:32.928 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:32.929 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:32.929 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:32.929 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:32.930 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:32.930 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:32.930 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.930 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:33.930 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:33.930495537Z
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:33.930 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:33.930495537Z
2025-06-09 15:48:33.930 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:33.930 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:33.930495537Z is not within any holiday period.
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:33.930495537Z is dow: MONDAY
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:33.930 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:33.930 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:33.930 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:33.930 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:33.930 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.931 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:33.931 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:33.932 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:33.932 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:33.933 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:33.933 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:33.933 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:33.933 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:34.933 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:34.934 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:34.934200835Z
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:34.934 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:34.934200835Z
2025-06-09 15:48:34.934 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:34.934 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:34.934200835Z is not within any holiday period.
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:34.934200835Z is dow: MONDAY
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:34.934 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:34.934 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:34.934 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:34.934 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:34.934 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:34.934 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:34.934 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:34.935 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:34.935 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:34.936 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:34.936 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:34.937 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:34.937 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:34.937 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:35.937 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:35.937 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:35.937652827Z
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:35.937 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:35.937652827Z
2025-06-09 15:48:35.937 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:35.937 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:35.937652827Z is not within any holiday period.
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:35.937652827Z is dow: MONDAY
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:35.937 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:35.937 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:35.937 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:35.937 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:35.937 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:35.938 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:35.938 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:35.939 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:35.939 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:35.940 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:35.940 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:35.940 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:35.941 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:36.941 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:36.941 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:36.941514353Z
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:36.941 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:36.941514353Z
2025-06-09 15:48:36.941 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:36.941 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:36.941514353Z is not within any holiday period.
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:36.941514353Z is dow: MONDAY
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:36.941 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:36.941 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:36.941 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:36.941 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:36.941 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.942 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:36.942 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:36.943 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:36.943 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:36.944 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:36.944 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:36.944 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:36.944 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:36.944 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:37.944 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:37.944 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.944 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:37.944948852Z
2025-06-09 15:48:37.944 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:37.944 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:37.944948852Z
2025-06-09 15:48:37.945 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:37.945 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:37.945 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:37.944948852Z is not within any holiday period.
2025-06-09 15:48:37.945 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:37.944948852Z is dow: MONDAY
2025-06-09 15:48:37.945 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:37.945 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:37.945 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:37.945 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:37.945 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.945 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.945 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:37.946 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:37.946 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:37.947 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:37.947 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:37.948 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:37.948 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:37.948 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:37.948 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:38.948 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:38.948 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:38.948695316Z
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:38.948 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:38.948695316Z
2025-06-09 15:48:38.948 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:38.948 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:38.948695316Z is not within any holiday period.
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:38.948695316Z is dow: MONDAY
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:38.948 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:38.948 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:38.948 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:38.949 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:38.949 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:38.950 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:38.950 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:38.951 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:38.951 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:38.951 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:38.951 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:38.951 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:38.951 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:38.951 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:38.951 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:39.951 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:39.952 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:39.952198788Z
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:39.952 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:39.952198788Z
2025-06-09 15:48:39.952 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:39.952 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:39.952198788Z is not within any holiday period.
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:39.952198788Z is dow: MONDAY
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:39.952 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:39.952 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:39.952 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:39.952 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:39.952 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:39.952 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:39.952 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:39.953 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:39.953 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:39.954 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:39.954 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:39.955 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:39.955 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:39.955 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:39.955 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:39.955 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:39.955 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:40.955 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:40.955 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.955 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:40.955976294Z
2025-06-09 15:48:40.955 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:40.956 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:40.955976294Z
2025-06-09 15:48:40.956 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:40.956 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:40.956 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:40.955976294Z is not within any holiday period.
2025-06-09 15:48:40.956 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:40.955976294Z is dow: MONDAY
2025-06-09 15:48:40.956 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:40.956 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:40.956 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:40.956 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.956 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:40.956 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:40.957 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:40.957 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:40.958 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:40.958 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:40.958 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:40.958 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:40.958 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.958 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:41.958 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.958 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:41.958870637Z
2025-06-09 15:48:41.958 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:41.958 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:41.958870637Z
2025-06-09 15:48:41.958 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:41.958 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:41.958 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:41.958870637Z is not within any holiday period.
2025-06-09 15:48:41.958 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:41.958870637Z is dow: MONDAY
2025-06-09 15:48:41.958 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:41.959 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:41.959 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:41.959 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.959 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:41.959 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.960 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:41.960 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:41.961 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:41.961 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:41.961 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:41.962 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:42.962 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:42.962 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:42.962551310Z
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:42.962 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:42.962551310Z
2025-06-09 15:48:42.962 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:42.962 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:42.962551310Z is not within any holiday period.
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:42.962551310Z is dow: MONDAY
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:42.962 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:42.962 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:42.962 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:42.962 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:42.962 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.963 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:42.963 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:42.964 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:42.964 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:42.965 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:42.965 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:42.966 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:42.966 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:43.966 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:43.966 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:43.966520361Z
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:43.966 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:43.966520361Z
2025-06-09 15:48:43.966 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:43.966 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:43.966520361Z is not within any holiday period.
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:43.966520361Z is dow: MONDAY
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:43.966 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:43.966 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:43.966 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:43.966 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:43.966 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:43.967 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:43.967 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:43.967 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:43.967 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:43.967 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:43.968 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:43.967 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:43.968 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:43.970 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:43.970 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:43.970 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:43.970 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:43.970 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:43.970 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:44.970 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:44.970 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.970 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:44.970931241Z
2025-06-09 15:48:44.970 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:44.970 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:44.970931241Z
2025-06-09 15:48:44.970 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:44.971 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:44.971 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:44.970931241Z is not within any holiday period.
2025-06-09 15:48:44.971 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:44.970931241Z is dow: MONDAY
2025-06-09 15:48:44.971 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:44.971 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:44.971 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:44.971 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.971 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:44.971 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:44.971 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:44.971 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:44.972 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.972 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:44.972 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:44.972 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:44.972 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:44.972 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:44.973 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:44.973 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:44.974 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:44.974 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:45.974 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:45.974 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:45.974625636Z
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:45.974 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:45.974625636Z
2025-06-09 15:48:45.974 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:45.974 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:45.974625636Z is not within any holiday period.
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:45.974625636Z is dow: MONDAY
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:45.974 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:45.974 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:45.974 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:45.975 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:45.974 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:45.975 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:45.975 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:45.975 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:45.976 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:45.976 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:45.977 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:45.977 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:45.977 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:45.978 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:46.978 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:46.978 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:46.978453719Z
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:46.978 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:46.978453719Z
2025-06-09 15:48:46.978 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:46.978 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:46.978453719Z is not within any holiday period.
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:46.978453719Z is dow: MONDAY
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:46.978 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:46.978 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:46.978 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:46.978 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:46.978 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:46.979 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:46.979 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:46.980 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:46.981 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:46.980 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:46.981 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:46.981 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:46.981 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:46.981 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:46.981 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:47.981 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:47.982 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:47.982237003Z
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:47.982 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:47.982237003Z
2025-06-09 15:48:47.982 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:47.982 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:47.982237003Z is not within any holiday period.
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:47.982237003Z is dow: MONDAY
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:47.982 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:47.982 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:47.982 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:47.982 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:47.982 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:47.983 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:47.983 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:47.984 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:47.984 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:47.985 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:47.985 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:47.985 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:47.985 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:47.985 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:47.985 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:48.985 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:48.985 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.985 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:48.985953475Z
2025-06-09 15:48:48.985 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:48.986 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:48.985953475Z
2025-06-09 15:48:48.986 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:48.986 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:48.986 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:48.985953475Z is not within any holiday period.
2025-06-09 15:48:48.986 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:48.985953475Z is dow: MONDAY
2025-06-09 15:48:48.986 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:48.986 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:48.986 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:48.986 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:48.986 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:48.986 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:48.986 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:48.986 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:48.986 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.987 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:48.987 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:48.988 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:48.989 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:48.988 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:48.989 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:48.989 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:48.989 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:48.989 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:48.989 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:49.989 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:49.990 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:49.990101064Z
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:49.990 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:49.990101064Z
2025-06-09 15:48:49.990 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:49.990 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:49.990101064Z is not within any holiday period.
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:49.990101064Z is dow: MONDAY
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:49.990 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:49.990 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:49.990 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:49.990 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:49.990 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:49.991 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:49.991 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:49.992 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:49.992 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:49.992 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:49.992 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:49.992 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:49.992 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:49.992 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:49.992 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:50.993 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:50.993 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:50.993394010Z
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:50.993 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:50.993394010Z
2025-06-09 15:48:50.993 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:50.993 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:50.993394010Z is not within any holiday period.
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:50.993394010Z is dow: MONDAY
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:50.993 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:50.993 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:50.993 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:50.993 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:50.993 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:50.994 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:50.994 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:50.994 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:50.995 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:50.995 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:50.996 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:50.996 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:50.996 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:50.996 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:51.370 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:48:51.370 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:48:51.370 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:48:51.370 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:48:51.370 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:48:51.370 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:48:51.996 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:51.996 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.996 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:51.996973430Z
2025-06-09 15:48:51.997 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:51.997 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:51.996973430Z
2025-06-09 15:48:51.997 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:51.997 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:51.997 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:51.996973430Z is not within any holiday period.
2025-06-09 15:48:51.997 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:51.996973430Z is dow: MONDAY
2025-06-09 15:48:51.997 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:51.997 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:51.997 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:51.997 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:51.997 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:51.997 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:51.998 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:51.998 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:51.999 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:51.999 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:51.999 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:52.000 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:53.000 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:53.000 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:53.000444011Z
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:53.000 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:53.000444011Z
2025-06-09 15:48:53.000 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:53.000 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:53.000444011Z is not within any holiday period.
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:53.000444011Z is dow: MONDAY
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:53.000 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:53.000 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:53.000 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:53.000 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:53.000 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.001 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:53.001 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:53.002 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:53.002 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:53.003 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:53.003 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:53.003 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:53.003 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:53.003 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:53.003 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:53.003 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:53.003 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:54.003 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:54.004 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:54.004157777Z
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:54.004 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:54.004157777Z
2025-06-09 15:48:54.004 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:54.004 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:54.004157777Z is not within any holiday period.
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:54.004157777Z is dow: MONDAY
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:54.004 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:54.004 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:54.004 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:54.004 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:54.004 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:54.004 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:54.004 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.005 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:54.005 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:54.006 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:54.006 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:54.007 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:54.007 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:54.007 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:54.007 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:54.007 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:54.007 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:54.007 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:54.007 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:55.008 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:55.008 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:55.008294252Z
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:55.008 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:55.008294252Z
2025-06-09 15:48:55.008 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:55.008 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:55.008294252Z is not within any holiday period.
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:55.008294252Z is dow: MONDAY
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:55.008 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:55.008 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:55.008 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:55.008 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:55.008 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:55.009 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:55.009 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:55.010 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:55.010 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:55.011 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:55.011 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:55.011 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:55.011 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:55.011 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:56.011 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:56.011 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:56.011811785Z
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:56.011 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:56.011811785Z
2025-06-09 15:48:56.011 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:56.011 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:56.011811785Z is not within any holiday period.
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:56.011811785Z is dow: MONDAY
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:56.011 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:56.012 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:56.012 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.012 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:56.012 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.012 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:56.013 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:56.014 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:56.014 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:56.013 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:56.014 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:56.014 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:56.014 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:56.014 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:56.014 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.014 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:57.014 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.014 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:57.014992736Z
2025-06-09 15:48:57.015 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:57.015 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:57.014992736Z
2025-06-09 15:48:57.015 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:57.015 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:57.015 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:57.014992736Z is not within any holiday period.
2025-06-09 15:48:57.015 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:57.014992736Z is dow: MONDAY
2025-06-09 15:48:57.015 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:57.015 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:57.015 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:57.015 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:57.015 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.015 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:57.016 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:57.016 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:57.017 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:57.017 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:57.018 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:57.018 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:57.018 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:57.018 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:57.018 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:57.018 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:58.018 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:58.018 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:58.018767237Z
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:58.018 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:58.018767237Z
2025-06-09 15:48:58.018 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:58.018 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:58.018767237Z is not within any holiday period.
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:58.018767237Z is dow: MONDAY
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:58.018 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:58.019 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:58.019 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:58.019 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.019 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:58.019 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:58.019 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.020 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:48:58.020 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:58.021 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:58.021 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:58.022 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:58.022 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:58.022 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:58.022 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:58.022 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:58.022 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:48:59.022 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:48:59.022 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:48:59.022635478Z
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:48:59.022 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:48:59.022635478Z
2025-06-09 15:48:59.022 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:48:59.022 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:48:59.022635478Z is not within any holiday period.
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:48:59.022635478Z is dow: MONDAY
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:48:59.022 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:48:59.022 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:48:59.022 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:59.022 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:59.023 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:48:59.023 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:59.023 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:48:59.023 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.023 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:48:59.024 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:48:59.024 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:48:59.025 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:48:59.025 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:48:59.025 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:48:59.025 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:48:59.025 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:00.025 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:00.025 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:00.026047086Z
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:00.026 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:00.026047086Z
2025-06-09 15:49:00.026 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:00.026 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:00.026047086Z is not within any holiday period.
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:00.026047086Z is dow: MONDAY
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:00.026 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:00.026 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:00.026 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:00.026 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:00.026 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:00.026 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.026 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.027 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:00.027 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:00.028 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:00.028 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:00.029 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:00.029 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:00.029 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:00.029 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:00.029 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:00.029 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:01.029 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:01.029 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:01.029689863Z
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:01.029 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:01.029689863Z
2025-06-09 15:49:01.029 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:01.029 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:01.029689863Z is not within any holiday period.
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:01.029689863Z is dow: MONDAY
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:01.029 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:01.029 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:01.029 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:01.030 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:01.030 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:01.031 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.031 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:01.032 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:01.032 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:01.032 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:01.032 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:02.032 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:02.033 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:02.033224571Z
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:02.033 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:02.033224571Z
2025-06-09 15:49:02.033 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:02.033 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:02.033224571Z is not within any holiday period.
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:02.033224571Z is dow: MONDAY
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:02.033 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:02.033 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:02.033 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:02.033 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:02.033 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:02.034 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:02.034 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:02.035 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:02.035 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:02.036 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:02.036 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:02.036 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:02.036 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:03.036 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:03.036 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:03.036717575Z
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:03.036 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:03.036717575Z
2025-06-09 15:49:03.036 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:03.036 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:03.036717575Z is not within any holiday period.
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:03.036717575Z is dow: MONDAY
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:03.036 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:03.036 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:03.036 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:03.036 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:03.037 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:03.037 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:03.037 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:03.037 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:03.037 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.037 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:03.038 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:03.038 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:03.039 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:03.039 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:03.039 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:03.039 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:03.039 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:04.039 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:04.039 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.039 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:04.039893649Z
2025-06-09 15:49:04.039 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:04.039 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:04.039893649Z
2025-06-09 15:49:04.039 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:04.040 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:04.040 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:04.039893649Z is not within any holiday period.
2025-06-09 15:49:04.040 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:04.039893649Z is dow: MONDAY
2025-06-09 15:49:04.040 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:04.040 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:04.040 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:04.040 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:04.040 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:04.040 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:04.041 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.041 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:04.042 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:04.042 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:04.043 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:04.043 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:04.043 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:04.043 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:04.043 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:04.043 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:04.043 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:05.043 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:05.044 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:05.044180125Z
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:05.044 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:05.044180125Z
2025-06-09 15:49:05.044 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:05.044 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:05.044180125Z is not within any holiday period.
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:05.044180125Z is dow: MONDAY
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:05.044 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:05.044 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:05.044 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:05.044 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:05.044 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:05.044 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:05.044 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.044 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:05.045 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.045 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:05.046 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:05.046 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:05.047 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:05.047 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:05.047 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:05.047 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:05.047 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:05.047 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:06.047 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:06.048 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:06.048040096Z
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:06.048 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:06.048040096Z
2025-06-09 15:49:06.048 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:06.048 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:06.048040096Z is not within any holiday period.
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:06.048040096Z is dow: MONDAY
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:06.048 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:06.048 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:06.048 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:06.048 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:06.048 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:06.048 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:06.049 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:06.049 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:06.050 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:06.050 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:06.051 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:06.051 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:07.051 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:07.051 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:07.051572651Z
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:07.051 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:07.051572651Z
2025-06-09 15:49:07.051 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:07.051 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:07.051572651Z is not within any holiday period.
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:07.051572651Z is dow: MONDAY
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:07.051 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:07.051 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:07.051 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:07.051 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:07.052 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:07.052 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:07.053 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:07.053 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:07.054 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:07.054 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:07.054 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:07.054 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:07.054 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:07.054 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:07.054 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:08.054 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:08.055 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:08.055291899Z
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:08.055 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:08.055291899Z
2025-06-09 15:49:08.055 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:08.055 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:08.055291899Z is not within any holiday period.
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:08.055291899Z is dow: MONDAY
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:08.055 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:08.055 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:08.055 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:08.055 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:08.055 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:08.056 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:08.056 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:08.056 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:08.056 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:08.056 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.056 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.057 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:08.057 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:08.058 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:08.058 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:08.058 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:08.058 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:09.059 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:09.059 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:09.059380608Z
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:09.059 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:09.059380608Z
2025-06-09 15:49:09.059 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:09.059 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:09.059380608Z is not within any holiday period.
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:09.059380608Z is dow: MONDAY
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:09.059 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:09.059 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:09.059 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:09.059 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:09.059 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:09.060 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:09.060 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:09.061 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:09.061 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:09.062 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:09.062 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:09.062 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:09.062 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:09.062 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:10.062 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:10.062 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:10.063005955Z
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:10.063 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:10.063005955Z
2025-06-09 15:49:10.063 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:10.063 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:10.063005955Z is not within any holiday period.
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:10.063005955Z is dow: MONDAY
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:10.063 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:10.063 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:10.063 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.063 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:10.063 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.064 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:10.064 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:10.065 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:10.065 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:10.066 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:10.066 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:10.066 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:10.066 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:10.066 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:11.067 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:11.067 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:11.067284355Z
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:11.067 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:11.067284355Z
2025-06-09 15:49:11.067 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:11.067 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:11.067284355Z is not within any holiday period.
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:11.067284355Z is dow: MONDAY
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:11.067 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:11.067 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:11.067 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:11.067 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:11.067 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:11.068 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:11.068 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:11.069 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:11.069 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:11.070 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:11.070 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:11.070 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:11.070 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:12.070 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:12.070 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:12.070706253Z
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:12.070 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:12.070706253Z
2025-06-09 15:49:12.070 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:12.070 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:12.070706253Z is not within any holiday period.
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:12.070706253Z is dow: MONDAY
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:12.070 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:12.070 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:12.071 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:12.071 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:12.071 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:12.071 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.071 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:12.072 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:12.072 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:12.073 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:12.073 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:12.074 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:12.074 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:12.074 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:12.074 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:12.074 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:12.074 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:13.074 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:13.074 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:13.074682572Z
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:13.074 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:13.074682572Z
2025-06-09 15:49:13.074 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:13.074 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:13.074682572Z is not within any holiday period.
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:13.074682572Z is dow: MONDAY
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:13.074 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:13.074 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:13.074 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:13.074 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.075 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:13.075 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:13.076 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:13.076 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:13.077 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:13.077 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:13.077 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:13.077 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:13.077 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:14.077 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:14.078 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:14.078161153Z
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:14.078 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:14.078161153Z
2025-06-09 15:49:14.078 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:14.078 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:14.078161153Z is not within any holiday period.
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:14.078161153Z is dow: MONDAY
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:14.078 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:14.078 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:14.078 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:14.078 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:14.078 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:14.079 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:14.079 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:14.079 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.079 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:14.079 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:14.080 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:14.080 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:14.081 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:14.081 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:14.082 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:14.082 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:14.082 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:14.082 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:14.082 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:14.082 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:15.082 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:15.083 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:15.083228168Z
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:15.083 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:15.083228168Z
2025-06-09 15:49:15.083 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:15.083 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:15.083228168Z is not within any holiday period.
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:15.083228168Z is dow: MONDAY
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:15.083 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:15.083 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:15.083 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:15.083 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:15.083 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:15.084 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:15.084 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:15.085 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:15.085 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:15.086 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:15.086 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:16.086 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:16.086 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:16.086574625Z
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:16.086 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:16.086574625Z
2025-06-09 15:49:16.086 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:16.086 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:16.086574625Z is not within any holiday period.
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:16.086574625Z is dow: MONDAY
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:16.086 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:16.086 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:16.086 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:16.086 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:16.087 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.087 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:16.088 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:16.088 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:16.089 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:16.089 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:16.089 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.089 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:17.089 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:17.089676921Z
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:17.089 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:17.089676921Z
2025-06-09 15:49:17.089 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:17.089 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:17.089676921Z is not within any holiday period.
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:17.089676921Z is dow: MONDAY
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:17.089 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:17.089 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:17.089 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:17.090 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:17.090 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:17.091 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:17.091 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:17.092 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:17.092 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:17.092 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:17.092 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:18.093 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:18.093 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:18.093312291Z
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:18.093 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:18.093312291Z
2025-06-09 15:49:18.093 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:18.093 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:18.093312291Z is not within any holiday period.
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:18.093312291Z is dow: MONDAY
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:18.093 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:18.093 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:18.093 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:18.093 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:18.093 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.094 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:18.094 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:18.095 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:18.095 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:18.096 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:18.096 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:18.096 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:18.096 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:18.096 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:18.096 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:18.096 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:18.096 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:19.097 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:19.097 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:19.097296835Z
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:19.097 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:19.097296835Z
2025-06-09 15:49:19.097 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:19.097 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:19.097296835Z is not within any holiday period.
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:19.097296835Z is dow: MONDAY
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:19.097 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:19.097 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:19.097 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:19.097 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:19.097 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:19.098 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.098 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:19.099 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:19.099 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:19.100 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:19.100 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:19.100 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:19.101 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:20.101 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:20.101 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:20.101357776Z
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:20.101 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:20.101357776Z
2025-06-09 15:49:20.101 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:20.101 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:20.101357776Z is not within any holiday period.
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:20.101357776Z is dow: MONDAY
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:20.101 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:20.101 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:20.101 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:20.101 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:20.101 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.102 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:20.102 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:20.103 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:20.103 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:20.104 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:20.104 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:20.104 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:20.104 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:20.104 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:20.104 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:20.104 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:20.104 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:21.104 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:21.105 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:21.105135567Z
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:21.105 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:21.105135567Z
2025-06-09 15:49:21.105 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:21.105 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:21.105135567Z is not within any holiday period.
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:21.105135567Z is dow: MONDAY
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:21.105 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:21.105 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:21.105 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:21.105 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:21.105 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:21.105 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:21.105 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:21.105 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:21.105 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.106 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:21.106 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:21.107 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:21.107 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:21.107 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:21.108 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:21.381 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:49:21.381 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:49:21.381 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:49:21.382 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:49:21.382 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:49:21.382 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:49:22.108 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:22.108 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:22.108433090Z
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:22.108 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:22.108433090Z
2025-06-09 15:49:22.108 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:22.108 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:22.108433090Z is not within any holiday period.
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:22.108433090Z is dow: MONDAY
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:22.108 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:22.108 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:22.108 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:22.108 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:22.108 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.109 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:22.110 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:22.110 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:22.111 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:22.111 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:22.111 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:22.111 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:23.111 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:23.111 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:23.111767487Z
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:23.111 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:23.111767487Z
2025-06-09 15:49:23.111 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:23.111 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:23.111767487Z is not within any holiday period.
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:23.111767487Z is dow: MONDAY
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:23.111 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:23.112 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:23.112 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.113 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:23.113 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:23.114 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:23.114 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:23.115 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:23.115 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:23.115 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:23.115 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:24.115 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:24.115 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:24.115596150Z
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:24.115 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:24.115596150Z
2025-06-09 15:49:24.115 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:24.115 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:24.115596150Z is not within any holiday period.
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:24.115596150Z is dow: MONDAY
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:24.115 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:24.115 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:24.115 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:24.115 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:24.115 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:24.116 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.116 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:24.117 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:24.117 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:24.118 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:24.118 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:24.118 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:24.118 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:25.118 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:25.119 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:25.119135983Z
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:25.119 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:25.119135983Z
2025-06-09 15:49:25.119 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:25.119 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:25.119135983Z is not within any holiday period.
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:25.119135983Z is dow: MONDAY
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:25.119 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:25.119 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:25.119 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:25.119 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:25.119 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:25.120 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:25.121 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:25.120 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:25.121 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:25.121 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:25.121 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:25.122 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:25.122 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:25.122 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:25.122 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:26.122 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:26.122 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.122 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:26.122949221Z
2025-06-09 15:49:26.122 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:26.123 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:26.122949221Z
2025-06-09 15:49:26.123 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:26.123 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:26.123 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:26.122949221Z is not within any holiday period.
2025-06-09 15:49:26.123 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:26.122949221Z is dow: MONDAY
2025-06-09 15:49:26.123 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:26.123 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:26.123 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:26.123 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:26.123 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:26.123 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:26.124 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:26.124 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:26.125 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:26.125 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:26.126 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:26.126 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:26.126 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:27.126 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:27.126 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:27.126683483Z
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:27.126 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:27.126683483Z
2025-06-09 15:49:27.126 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:27.126 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:27.126683483Z is not within any holiday period.
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:27.126683483Z is dow: MONDAY
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:27.126 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:27.127 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:27.127 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:27.127 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:27.127 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:27.128 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:27.128 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:27.129 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:27.129 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:27.129 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:27.130 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:28.130 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:28.130 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:28.130553435Z
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:28.130 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:28.130553435Z
2025-06-09 15:49:28.130 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:28.130 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:28.130553435Z is not within any holiday period.
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:28.130553435Z is dow: MONDAY
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:28.130 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:28.130 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:28.130 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:28.130 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:28.130 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:28.131 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.131 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.132 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:28.132 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:28.133 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:28.133 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:28.133 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:28.134 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:29.134 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:29.134 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:29.134568175Z
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:29.134 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:29.134568175Z
2025-06-09 15:49:29.134 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:29.134 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:29.134568175Z is not within any holiday period.
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:29.134568175Z is dow: MONDAY
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:29.134 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:29.134 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:29.134 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:29.134 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:29.134 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:29.135 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:29.135 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:29.136 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:29.136 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:29.137 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:29.137 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:29.137 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:29.137 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:29.137 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:29.137 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:30.137 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:30.137 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:30.138038051Z
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:30.138 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:30.138038051Z
2025-06-09 15:49:30.138 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:30.138 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:30.138038051Z is not within any holiday period.
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:30.138038051Z is dow: MONDAY
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:30.138 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:30.138 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:30.138 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:30.138 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:30.138 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:30.138 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:30.138 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:30.138 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:30.138 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:30.138 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.139 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:30.139 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:30.140 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:30.140 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:30.141 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:30.141 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:30.141 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:30.141 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:30.141 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:30.141 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:30.141 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:30.141 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:31.141 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:31.142 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:31.142185042Z
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:31.142 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:31.142185042Z
2025-06-09 15:49:31.142 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:31.142 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:31.142185042Z is not within any holiday period.
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:31.142185042Z is dow: MONDAY
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:31.142 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:31.142 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:31.142 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:31.142 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:31.142 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.143 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:31.143 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:31.144 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:31.144 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:31.145 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:31.145 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:31.145 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:31.145 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:31.145 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:32.145 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:32.145 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.145 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:32.145844133Z
2025-06-09 15:49:32.145 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:32.145 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:32.145844133Z
2025-06-09 15:49:32.145 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:32.145 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:32.145 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:32.145844133Z is not within any holiday period.
2025-06-09 15:49:32.145 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:32.145844133Z is dow: MONDAY
2025-06-09 15:49:32.146 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:32.146 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:32.146 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:32.146 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:32.146 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:32.146 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:32.146 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:32.146 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:32.146 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:32.146 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:32.147 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:32.147 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:32.147 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:32.147 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:32.147 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:32.148 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:32.148 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:32.148 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:32.148 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:33.149 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:33.149 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:33.149267002Z
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:33.149 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:33.149267002Z
2025-06-09 15:49:33.149 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:33.149 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:33.149267002Z is not within any holiday period.
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:33.149267002Z is dow: MONDAY
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:33.149 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:33.149 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:33.149 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:33.149 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:33.149 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:33.150 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:33.150 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:33.151 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:33.151 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:33.152 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:33.152 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:33.152 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:33.152 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:33.152 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:33.152 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:33.152 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:33.152 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:33.152 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:33.152 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:33.152 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:34.152 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:34.153 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:34.153127038Z
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:34.153 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:34.153127038Z
2025-06-09 15:49:34.153 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:34.153 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:34.153127038Z is not within any holiday period.
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:34.153127038Z is dow: MONDAY
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:34.153 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:34.153 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:34.153 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:34.153 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:34.153 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:34.153 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:34.153 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.153 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.154 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:34.154 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:34.155 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:34.155 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:34.156 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:34.156 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:34.156 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:34.156 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:34.156 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:34.156 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:34.156 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:34.156 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:35.156 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:35.157 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:35.157169619Z
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:35.157 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:35.157169619Z
2025-06-09 15:49:35.157 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:35.157 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:35.157169619Z is not within any holiday period.
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:35.157169619Z is dow: MONDAY
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:35.157 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:35.157 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:35.157 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:35.157 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:35.157 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:35.157 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:35.157 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.157 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:35.158 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:35.158 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:35.159 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:35.159 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:35.159 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:35.159 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:36.160 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:36.160 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:36.160335353Z
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:36.160 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:36.160335353Z
2025-06-09 15:49:36.160 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:36.160 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:36.160335353Z is not within any holiday period.
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:36.160335353Z is dow: MONDAY
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:36.160 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:36.160 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:36.160 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:36.160 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:36.160 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:36.161 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:36.161 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:36.162 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:36.162 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:36.163 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:36.163 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:36.163 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:36.163 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:37.163 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:37.163 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:37.163787979Z
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:37.163 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:37.163787979Z
2025-06-09 15:49:37.163 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:37.163 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:37.163787979Z is not within any holiday period.
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:37.163787979Z is dow: MONDAY
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:37.163 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:37.164 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:37.164 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:37.164 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:37.164 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:37.164 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:37.165 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:37.165 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:37.166 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:37.166 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:37.166 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:37.166 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:38.166 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:38.167 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:38.167073282Z
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:38.167 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:38.167073282Z
2025-06-09 15:49:38.167 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:38.167 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:38.167073282Z is not within any holiday period.
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:38.167073282Z is dow: MONDAY
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:38.167 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:38.167 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:38.167 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:38.167 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:38.167 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:38.167 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.168 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:38.169 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:38.169 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:38.170 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:38.170 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:38.170 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:38.170 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:38.170 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:39.170 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:39.170 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:39.171019389Z
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:39.171 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:39.171019389Z
2025-06-09 15:49:39.171 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:39.171 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:39.171019389Z is not within any holiday period.
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:39.171019389Z is dow: MONDAY
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:39.171 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:39.171 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:39.171 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:39.171 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:39.171 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:39.171 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:39.171 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:39.171 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:39.171 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.172 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:39.172 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:39.173 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:39.173 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:39.174 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:39.174 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:39.174 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:39.174 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:39.174 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:40.174 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:40.174 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:40.174719996Z
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:40.174 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:40.174719996Z
2025-06-09 15:49:40.174 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:40.174 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:40.174719996Z is not within any holiday period.
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:40.174719996Z is dow: MONDAY
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:40.174 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:40.174 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:40.174 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:40.175 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:40.175 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:40.175 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:40.175 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:40.175 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:40.175 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:40.176 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:40.176 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:40.177 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:40.177 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:40.177 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:40.177 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:41.177 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:41.178 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:41.178173251Z
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:41.178 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:41.178173251Z
2025-06-09 15:49:41.178 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:41.178 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:41.178173251Z is not within any holiday period.
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:41.178173251Z is dow: MONDAY
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:41.178 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:41.178 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:41.178 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:41.178 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:41.178 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:41.179 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:41.179 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:41.180 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:41.180 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:41.181 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:41.181 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:41.181 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:41.181 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:41.181 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:41.181 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:41.181 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:41.181 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:42.181 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:42.181 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:42.181757684Z
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:42.181 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:42.181757684Z
2025-06-09 15:49:42.181 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:42.181 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:42.181757684Z is not within any holiday period.
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:42.181757684Z is dow: MONDAY
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:42.181 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:42.181 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:42.181 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:42.181 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:42.182 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.182 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:42.183 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:42.184 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:42.184 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:42.184 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:42.183 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:42.184 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:42.184 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:42.184 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:42.184 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:42.184 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:42.184 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:42.184 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:42.184 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:43.184 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:43.185 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:43.185154976Z
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:43.185 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:43.185154976Z
2025-06-09 15:49:43.185 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:43.185 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:43.185154976Z is not within any holiday period.
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:43.185154976Z is dow: MONDAY
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:43.185 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:43.185 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:43.185 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:43.185 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:43.185 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:43.185 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:43.185 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.185 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:43.186 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.186 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:43.187 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:43.187 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:43.188 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:43.188 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:43.188 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:43.188 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:43.188 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:43.188 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:44.188 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:44.188 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.188 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:44.188977038Z
2025-06-09 15:49:44.189 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:44.189 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:44.188977038Z
2025-06-09 15:49:44.189 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:44.189 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:44.189 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:44.188977038Z is not within any holiday period.
2025-06-09 15:49:44.189 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:44.188977038Z is dow: MONDAY
2025-06-09 15:49:44.189 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:44.189 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:44.189 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:44.189 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:44.189 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:44.189 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.189 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:44.190 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:44.190 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:44.191 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:44.191 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:44.192 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:44.192 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:44.192 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:44.192 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:44.192 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:44.192 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:45.192 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:45.192 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:45.192728364Z
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:45.192 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:45.192728364Z
2025-06-09 15:49:45.192 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:45.192 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:45.192728364Z is not within any holiday period.
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:45.192728364Z is dow: MONDAY
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:45.192 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:45.192 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:45.193 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:45.193 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.193 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:45.193 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:45.193 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.194 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:45.194 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:45.195 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:45.195 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:45.195 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:45.195 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:45.195 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:45.195 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:45.196 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:46.196 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:46.196 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:46.196547532Z
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:46.196 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:46.196547532Z
2025-06-09 15:49:46.196 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:46.196 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:46.196547532Z is not within any holiday period.
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:46.196547532Z is dow: MONDAY
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:46.196 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:46.196 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:46.196 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:46.196 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.197 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:46.197 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.198 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:46.198 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:46.199 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:46.199 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:46.200 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:46.200 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:46.200 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:46.200 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:46.200 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:47.200 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:47.201 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:47.201219361Z
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:47.201 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:47.201219361Z
2025-06-09 15:49:47.201 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:47.201 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:47.201219361Z is not within any holiday period.
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:47.201219361Z is dow: MONDAY
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:47.201 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:47.201 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:47.201 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:47.201 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:47.201 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:47.201 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:47.201 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:47.201 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:47.202 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:47.202 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:47.203 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:47.203 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:47.204 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:47.204 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:47.204 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:47.204 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:47.204 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:47.204 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:48.204 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:48.204 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:48.204839518Z
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:48.204 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:48.204839518Z
2025-06-09 15:49:48.204 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:48.204 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:48.204839518Z is not within any holiday period.
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:48.204839518Z is dow: MONDAY
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:48.204 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:48.205 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.205 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.206 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:48.206 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:48.207 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:48.207 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:48.208 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:48.208 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:49.208 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:49.208 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:49.208746025Z
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:49.208 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:49.208746025Z
2025-06-09 15:49:49.208 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:49.208 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:49.208746025Z is not within any holiday period.
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:49.208746025Z is dow: MONDAY
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:49.208 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:49.208 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:49.208 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:49.208 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:49.209 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:49.209 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.209 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:49.210 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:49.210 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:49.211 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:49.211 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:49.211 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:49.211 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:50.212 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:50.212 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:50.212371553Z
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:50.212 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:50.212371553Z
2025-06-09 15:49:50.212 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:50.212 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:50.212371553Z is not within any holiday period.
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:50.212371553Z is dow: MONDAY
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:50.212 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:50.212 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:50.212 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:50.212 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:50.212 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:50.213 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.213 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:50.214 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:50.214 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:50.215 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:50.215 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:50.215 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:50.216 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:51.216 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:51.216 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:51.216644286Z
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:51.216 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:51.216644286Z
2025-06-09 15:49:51.216 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:51.216 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:51.216644286Z is not within any holiday period.
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:51.216644286Z is dow: MONDAY
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:51.216 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:51.216 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:51.216 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:51.216 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:51.216 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:51.217 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:51.217 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:51.218 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:51.218 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:51.219 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:51.219 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:51.219 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:51.221 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:51.388 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:49:51.388 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:49:51.388 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:49:51.389 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:49:51.389 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:49:51.389 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:49:52.221 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:52.221 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:52.221807225Z
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:52.221 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:52.221807225Z
2025-06-09 15:49:52.221 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:52.221 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:52.221807225Z is not within any holiday period.
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:52.221807225Z is dow: MONDAY
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:52.221 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:52.222 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:52.222 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:52.223 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:52.223 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:52.224 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:52.224 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:52.224 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:52.224 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:53.225 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:53.225 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:53.225339284Z
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:53.225 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:53.225339284Z
2025-06-09 15:49:53.225 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:53.225 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:53.225339284Z is not within any holiday period.
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:53.225339284Z is dow: MONDAY
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:53.225 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:53.225 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:53.225 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:53.225 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:53.225 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.226 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:53.226 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.227 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:53.227 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:53.228 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:53.228 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:53.229 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:53.229 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:54.229 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:54.229 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:54.229674822Z
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:54.229 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:54.229674822Z
2025-06-09 15:49:54.229 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:54.229 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:54.229674822Z is not within any holiday period.
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:54.229674822Z is dow: MONDAY
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:54.229 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:54.229 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:54.229 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:54.229 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:54.229 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:54.230 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:54.230 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:54.231 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:54.231 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:54.232 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:54.232 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:54.232 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:54.232 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:55.232 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:55.233 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:55.233274212Z
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:55.233 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:55.233274212Z
2025-06-09 15:49:55.233 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:55.233 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:55.233274212Z is not within any holiday period.
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:55.233274212Z is dow: MONDAY
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:55.233 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:55.233 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:55.233 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:55.233 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:55.233 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:55.234 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:55.234 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:55.235 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:55.235 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:55.236 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:55.236 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:55.236 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:55.236 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:55.236 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:55.236 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:55.236 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:55.236 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:56.236 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:56.237 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:56.237104056Z
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:56.237 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:56.237104056Z
2025-06-09 15:49:56.237 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:56.237 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:56.237104056Z is not within any holiday period.
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:56.237104056Z is dow: MONDAY
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:56.237 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:56.237 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:56.237 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:56.237 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:56.237 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:56.237 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:56.237 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:56.237 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:56.237 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:56.238 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.238 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:56.239 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:56.239 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:56.240 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:56.240 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:56.240 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:56.240 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:56.240 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:56.240 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:57.240 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:57.240 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.240 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:57.240924392Z
2025-06-09 15:49:57.240 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:57.240 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:57.240924392Z
2025-06-09 15:49:57.240 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:57.241 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:57.241 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:57.240924392Z is not within any holiday period.
2025-06-09 15:49:57.241 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:57.240924392Z is dow: MONDAY
2025-06-09 15:49:57.241 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:57.241 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:57.241 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:57.241 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.241 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:57.241 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.242 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:57.242 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:57.243 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:57.243 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:57.244 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:57.244 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:57.244 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:57.244 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:57.244 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.244 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:58.244 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.244 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:58.244871483Z
2025-06-09 15:49:58.244 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:58.244 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:58.244871483Z
2025-06-09 15:49:58.244 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:58.244 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:58.244 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:58.244871483Z is not within any holiday period.
2025-06-09 15:49:58.245 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:58.244871483Z is dow: MONDAY
2025-06-09 15:49:58.245 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:58.245 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.245 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.245 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:58.246 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.246 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:58.247 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:58.248 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:58.247 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:58.248 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:58.248 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:58.248 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:49:59.248 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:49:59.248 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:49:59.248770949Z
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:49:59.248 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:49:59.248770949Z
2025-06-09 15:49:59.248 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:49:59.248 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:49:59.248770949Z is not within any holiday period.
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:49:59.248770949Z is dow: MONDAY
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:49:59.248 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:49:59.248 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:59.248 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:59.249 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:59.249 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.250 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:49:59.250 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:49:59.251 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:49:59.251 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:49:59.252 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:49:59.252 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:49:59.252 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:49:59.252 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:49:59.252 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:00.252 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:00.252 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.252 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:00.252889989Z
2025-06-09 15:50:00.252 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:00.252 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:00.252889989Z
2025-06-09 15:50:00.252 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:00.252 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:00.252 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:00.252889989Z is not within any holiday period.
2025-06-09 15:50:00.253 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:00.252889989Z is dow: MONDAY
2025-06-09 15:50:00.253 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:00.253 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:00.253 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:00.253 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:00.254 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:00.254 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:00.255 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:00.255 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:00.255 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:00.255 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:00.255 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:00.255 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:00.255 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:01.255 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:01.256 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:01.256194501Z
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:01.256 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:01.256194501Z
2025-06-09 15:50:01.256 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:01.256 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:01.256194501Z is not within any holiday period.
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:01.256194501Z is dow: MONDAY
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:01.256 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:01.256 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:01.256 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:01.256 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:01.256 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:01.256 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:01.256 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.257 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:01.257 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:01.258 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:01.258 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:01.258 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:01.258 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:02.259 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:02.259 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:02.259357555Z
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:02.259 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:02.259357555Z
2025-06-09 15:50:02.259 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:02.259 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:02.259357555Z is not within any holiday period.
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:02.259357555Z is dow: MONDAY
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:02.259 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:02.259 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:02.259 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:02.259 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:02.259 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:02.260 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.260 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:02.261 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:02.261 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:02.262 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:02.262 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:02.262 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:02.262 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:02.262 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:03.262 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:03.263 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:03.263073831Z
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:03.263 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:03.263073831Z
2025-06-09 15:50:03.263 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:03.263 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:03.263073831Z is not within any holiday period.
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:03.263073831Z is dow: MONDAY
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:03.263 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:03.263 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:03.263 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:03.263 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:03.263 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:03.264 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:03.264 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:03.265 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:03.265 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:03.265 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:03.265 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:03.265 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:03.266 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:03.266 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:03.267 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:03.267 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:03.267 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:03.267 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:03.267 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:03.267 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:03.267 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:03.267 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:03.267 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:04.267 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:04.268 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:04.268201396Z
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:04.268 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:04.268201396Z
2025-06-09 15:50:04.268 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:04.268 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:04.268201396Z is not within any holiday period.
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:04.268201396Z is dow: MONDAY
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:04.268 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:04.268 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:04.268 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:04.268 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:04.268 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:04.269 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:04.269 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:04.269 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.269 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:04.269 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.269 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:04.270 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:04.270 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:04.271 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:04.272 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:04.271 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:04.272 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:04.272 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:05.272 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:05.272 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.272 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:05.272989442Z
2025-06-09 15:50:05.273 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:05.273 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:05.272989442Z
2025-06-09 15:50:05.273 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:05.273 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:05.273 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:05.272989442Z is not within any holiday period.
2025-06-09 15:50:05.273 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:05.272989442Z is dow: MONDAY
2025-06-09 15:50:05.273 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:05.273 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:05.273 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:05.273 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:05.273 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:05.273 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:05.274 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:05.274 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:05.275 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:05.276 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:05.276 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:05.275 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:05.276 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:05.276 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:05.276 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:05.276 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:05.276 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:06.276 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:06.277 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:06.277078923Z
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:06.277 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:06.277078923Z
2025-06-09 15:50:06.277 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:06.277 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:06.277078923Z is not within any holiday period.
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:06.277078923Z is dow: MONDAY
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:06.277 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:06.277 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:06.277 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:06.277 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:06.277 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:06.277 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.278 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:06.278 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:06.279 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:06.279 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:06.280 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:06.280 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:06.280 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:06.280 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:06.280 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:07.280 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:07.281 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:07.281191992Z
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:07.281 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:07.281191992Z
2025-06-09 15:50:07.281 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:07.281 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:07.281191992Z is not within any holiday period.
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:07.281191992Z is dow: MONDAY
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:07.281 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:07.281 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:07.281 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:07.281 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:07.281 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:07.281 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:07.281 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.281 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.282 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:07.282 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:07.283 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:07.283 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:07.284 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:07.284 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:07.284 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:07.284 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:07.284 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:07.284 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:07.284 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:07.284 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:07.284 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:08.284 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:08.285 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:08.285098098Z
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:08.285 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:08.285098098Z
2025-06-09 15:50:08.285 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:08.285 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:08.285098098Z is not within any holiday period.
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:08.285098098Z is dow: MONDAY
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:08.285 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:08.285 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:08.285 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:08.285 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:08.285 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.286 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:08.287 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:08.287 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:08.288 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:08.288 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:08.288 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:08.288 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:08.288 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:08.288 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:08.288 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:09.289 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:09.289 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:09.289354789Z
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:09.289 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:09.289354789Z
2025-06-09 15:50:09.289 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:09.289 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:09.289354789Z is not within any holiday period.
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:09.289354789Z is dow: MONDAY
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:09.289 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:09.289 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:09.289 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:09.289 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:09.289 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.290 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:09.290 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:09.291 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:09.291 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:09.292 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:09.292 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:09.292 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:09.292 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:09.292 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:09.292 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:09.292 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:09.293 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:10.293 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:10.293 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:10.293499804Z
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:10.293 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:10.293499804Z
2025-06-09 15:50:10.293 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:10.293 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:10.293499804Z is not within any holiday period.
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:10.293499804Z is dow: MONDAY
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:10.293 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:10.293 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:10.293 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:10.293 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:10.293 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:10.294 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:10.294 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:10.295 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:10.295 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:10.296 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:10.296 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:10.296 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:10.296 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:10.296 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:11.296 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:11.296 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.296 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:11.296967640Z
2025-06-09 15:50:11.296 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:11.297 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:11.296967640Z
2025-06-09 15:50:11.297 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:11.297 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:11.297 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:11.296967640Z is not within any holiday period.
2025-06-09 15:50:11.297 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:11.296967640Z is dow: MONDAY
2025-06-09 15:50:11.297 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:11.297 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:11.297 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:11.297 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:11.297 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.297 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:11.297 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:11.298 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:11.298 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:11.299 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:11.299 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:11.299 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:11.300 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:12.300 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:12.300 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:12.300324540Z
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:12.300 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:12.300324540Z
2025-06-09 15:50:12.300 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:12.300 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:12.300324540Z is not within any holiday period.
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:12.300324540Z is dow: MONDAY
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:12.300 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:12.300 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:12.300 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:12.300 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:12.300 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:12.301 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:12.301 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:12.302 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:12.302 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:12.303 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:12.303 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:12.303 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:12.303 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:12.303 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:13.303 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:13.303 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.303 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:13.303808189Z
2025-06-09 15:50:13.303 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:13.303 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:13.303808189Z
2025-06-09 15:50:13.303 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:13.303 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:13.303 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:13.303808189Z is not within any holiday period.
2025-06-09 15:50:13.303 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:13.303808189Z is dow: MONDAY
2025-06-09 15:50:13.304 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:13.304 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:13.304 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:13.304 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.304 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:13.304 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:13.305 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:13.305 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:13.306 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:13.306 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:13.306 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:13.306 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:13.306 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:13.306 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:13.306 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:14.306 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:14.307 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:14.307198651Z
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:14.307 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:14.307198651Z
2025-06-09 15:50:14.307 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:14.307 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:14.307198651Z is not within any holiday period.
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:14.307198651Z is dow: MONDAY
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:14.307 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:14.307 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:14.307 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:14.307 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:14.307 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:14.307 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:14.307 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.308 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:14.308 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:14.309 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:14.309 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:14.310 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:14.310 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:14.310 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:14.310 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:14.310 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:14.310 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:14.310 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:15.310 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:15.310 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.310 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:15.310934367Z
2025-06-09 15:50:15.310 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:15.310 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:15.310934367Z
2025-06-09 15:50:15.310 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:15.311 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:15.311 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:15.310934367Z is not within any holiday period.
2025-06-09 15:50:15.311 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:15.310934367Z is dow: MONDAY
2025-06-09 15:50:15.311 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:15.311 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:15.311 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:15.311 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.312 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:15.313 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:15.313 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:15.313 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:15.314 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:16.314 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:16.314 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:16.314503389Z
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:16.314 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:16.314503389Z
2025-06-09 15:50:16.314 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:16.314 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:16.314503389Z is not within any holiday period.
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:16.314503389Z is dow: MONDAY
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:16.314 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:16.314 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:16.314 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:16.314 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:16.314 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:16.315 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:16.315 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:16.316 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:16.316 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:16.316 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:16.317 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:16.317 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:16.317 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.317 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:17.317 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:17.317540942Z
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:17.317 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:17.317540942Z
2025-06-09 15:50:17.317 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:17.317 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:17.317540942Z is not within any holiday period.
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:17.317540942Z is dow: MONDAY
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:17.317 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:17.317 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:17.317 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:17.317 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.317 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:17.318 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.318 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.318 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:17.318 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.319 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:17.319 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:17.320 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:17.320 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:17.321 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:17.321 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:17.321 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:18.321 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:18.321 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:18.321620545Z
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:18.321 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:18.321620545Z
2025-06-09 15:50:18.321 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:18.321 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:18.321620545Z is not within any holiday period.
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:18.321620545Z is dow: MONDAY
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:18.321 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:18.321 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:18.321 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:18.321 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:18.321 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:18.322 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:18.322 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:18.323 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:18.323 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:18.324 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:18.324 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:18.324 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:18.324 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:18.324 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.324 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:19.324 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.324 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:19.324913082Z
2025-06-09 15:50:19.324 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:19.324 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:19.324913082Z
2025-06-09 15:50:19.324 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:19.324 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:19.324 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:19.324913082Z is not within any holiday period.
2025-06-09 15:50:19.325 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:19.324913082Z is dow: MONDAY
2025-06-09 15:50:19.325 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:19.325 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:19.325 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.325 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:19.326 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:19.326 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:19.327 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:19.327 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:19.327 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:19.327 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:20.328 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:20.328 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:20.328304211Z
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:20.328 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:20.328304211Z
2025-06-09 15:50:20.328 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:20.328 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:20.328304211Z is not within any holiday period.
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:20.328304211Z is dow: MONDAY
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:20.328 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:20.328 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:20.328 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:20.328 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:20.328 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.329 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:20.329 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:20.330 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:20.330 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:20.331 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:20.331 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:20.331 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:20.332 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:21.332 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:21.332 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:21.332449065Z
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:21.332 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:21.332449065Z
2025-06-09 15:50:21.332 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:21.332 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:21.332449065Z is not within any holiday period.
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:21.332449065Z is dow: MONDAY
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:21.332 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:21.332 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:21.332 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:21.332 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:21.332 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.333 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:21.333 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:21.334 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:21.334 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:21.335 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:21.335 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:21.335 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:21.335 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:21.335 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:21.395 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:50:21.395 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:50:21.395 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:50:21.395 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:50:21.395 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:50:21.395 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:50:22.335 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:22.336 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:22.336096163Z
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:22.336 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:22.336096163Z
2025-06-09 15:50:22.336 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:22.336 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:22.336096163Z is not within any holiday period.
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:22.336096163Z is dow: MONDAY
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:22.336 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:22.336 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:22.336 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:22.336 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:22.336 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:22.336 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:22.336 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.336 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.337 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:22.338 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:22.338 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:22.339 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:22.339 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:22.339 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:22.340 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:23.340 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:23.340 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:23.340392036Z
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:23.340 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:23.340392036Z
2025-06-09 15:50:23.340 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:23.340 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:23.340392036Z is not within any holiday period.
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:23.340392036Z is dow: MONDAY
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:23.340 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:23.340 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:23.340 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:23.340 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:23.340 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:23.341 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:23.341 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:23.342 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:23.342 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:23.343 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:23.343 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:23.343 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:23.343 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:23.343 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:23.343 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.343 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:24.343 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:24.343778626Z
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:24.343 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:24.343778626Z
2025-06-09 15:50:24.343 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:24.343 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:24.343778626Z is not within any holiday period.
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:24.343778626Z is dow: MONDAY
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:24.343 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.344 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:24.344 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:24.345 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:24.345 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:24.346 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:24.346 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:24.346 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:24.346 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:25.347 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:25.347 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:25.347383561Z
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:25.347 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:25.347383561Z
2025-06-09 15:50:25.347 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:25.347 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:25.347383561Z is not within any holiday period.
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:25.347383561Z is dow: MONDAY
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:25.347 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:25.347 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:25.347 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:25.347 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:25.347 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:25.348 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:25.348 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:25.349 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:25.349 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:25.350 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:25.350 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:25.350 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:25.350 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:25.350 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:26.350 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:26.350 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.350 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:26.350984717Z
2025-06-09 15:50:26.351 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:26.351 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:26.350984717Z
2025-06-09 15:50:26.351 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:26.351 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:26.351 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:26.350984717Z is not within any holiday period.
2025-06-09 15:50:26.351 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:26.350984717Z is dow: MONDAY
2025-06-09 15:50:26.351 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:26.351 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:26.351 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:26.351 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:26.352 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:26.352 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:26.353 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:26.353 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:26.353 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:26.354 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:27.354 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:27.354 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:27.354511192Z
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:27.354 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:27.354511192Z
2025-06-09 15:50:27.354 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:27.354 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:27.354511192Z is not within any holiday period.
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:27.354511192Z is dow: MONDAY
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:27.354 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:27.354 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:27.354 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:27.354 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:27.354 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:27.355 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:27.355 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:27.356 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:27.356 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:27.357 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:27.357 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:27.357 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:27.357 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:27.357 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:27.357 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:28.357 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:28.357 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.357 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:28.357903047Z
2025-06-09 15:50:28.357 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:28.357 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:28.357903047Z
2025-06-09 15:50:28.357 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:28.357 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:28.357 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:28.357903047Z is not within any holiday period.
2025-06-09 15:50:28.358 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:28.357903047Z is dow: MONDAY
2025-06-09 15:50:28.358 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:28.358 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:28.358 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:28.358 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:28.358 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:28.358 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:28.358 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:28.358 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:28.359 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.359 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:28.360 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:28.360 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:28.361 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:28.361 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:28.361 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:28.361 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:28.361 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:28.361 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:29.361 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:29.361 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.361 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:29.361987227Z
2025-06-09 15:50:29.362 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:29.362 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:29.361987227Z
2025-06-09 15:50:29.362 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:29.362 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:29.362 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:29.361987227Z is not within any holiday period.
2025-06-09 15:50:29.362 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:29.361987227Z is dow: MONDAY
2025-06-09 15:50:29.362 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:29.362 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:29.362 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:29.362 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.362 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:29.362 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:29.363 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:29.363 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:29.364 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:29.364 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:29.364 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:29.364 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:30.364 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:30.365 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:30.365178855Z
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:30.365 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:30.365178855Z
2025-06-09 15:50:30.365 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:30.365 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:30.365178855Z is not within any holiday period.
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:30.365178855Z is dow: MONDAY
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:30.365 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:30.365 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:30.365 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:30.365 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:30.365 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:30.365 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:30.365 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:30.365 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.366 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:30.366 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:30.367 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:30.367 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:30.368 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:30.368 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:30.368 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:30.369 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:31.369 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:31.369 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:31.369487555Z
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:31.369 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:31.369487555Z
2025-06-09 15:50:31.369 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:31.369 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:31.369487555Z is not within any holiday period.
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:31.369487555Z is dow: MONDAY
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:31.369 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:31.369 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:31.369 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:31.369 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:31.369 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:31.370 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:31.370 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:31.371 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:31.371 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:31.372 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:31.372 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:31.372 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:31.372 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:31.372 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:31.372 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:32.372 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:32.372 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.372 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:32.372883889Z
2025-06-09 15:50:32.372 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:32.372 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:32.372883889Z
2025-06-09 15:50:32.372 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:32.372 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:32.372 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:32.372883889Z is not within any holiday period.
2025-06-09 15:50:32.373 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:32.372883889Z is dow: MONDAY
2025-06-09 15:50:32.373 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:32.373 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:32.373 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:32.373 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:32.373 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:32.373 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.373 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:32.373 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:32.374 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:32.374 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:32.375 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:32.375 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:32.375 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:32.375 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:33.376 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:33.376 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:33.376321308Z
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:33.376 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:33.376321308Z
2025-06-09 15:50:33.376 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:33.376 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:33.376321308Z is not within any holiday period.
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:33.376321308Z is dow: MONDAY
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:33.376 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:33.376 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:33.376 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:33.376 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:33.376 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:33.377 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:33.377 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:33.377 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.377 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:33.377 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:33.378 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:33.378 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:33.379 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:33.379 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:33.379 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:33.379 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:33.379 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:33.379 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:33.379 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.380 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:34.380 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:34.380296196Z
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:34.380 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:34.380296196Z
2025-06-09 15:50:34.380 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:34.380 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:34.380296196Z is not within any holiday period.
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:34.380296196Z is dow: MONDAY
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:34.380 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:34.380 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:34.380 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:34.380 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:34.380 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.381 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:34.381 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:34.382 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:34.382 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:34.383 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:34.383 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:34.383 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:34.383 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:34.383 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:34.383 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:35.383 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:35.383 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.383 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:35.383931406Z
2025-06-09 15:50:35.383 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:35.383 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:35.383931406Z
2025-06-09 15:50:35.384 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:35.384 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:35.384 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:35.383931406Z is not within any holiday period.
2025-06-09 15:50:35.384 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:35.383931406Z is dow: MONDAY
2025-06-09 15:50:35.384 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:35.384 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:35.384 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:35.384 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:35.384 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:35.384 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.385 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:35.385 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.386 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:35.386 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:35.387 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:35.387 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:35.387 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:35.388 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:36.388 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:36.388 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:36.388538128Z
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:36.388 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:36.388538128Z
2025-06-09 15:50:36.388 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:36.388 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:36.388538128Z is not within any holiday period.
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:36.388538128Z is dow: MONDAY
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:36.388 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:36.388 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:36.388 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:36.388 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:36.388 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.389 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:36.389 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:36.389 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:36.390 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.390 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:36.391 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:36.391 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:36.391 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:36.392 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:36.392 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:36.392 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.392 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:37.392 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:37.392535142Z
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:37.392 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:37.392535142Z
2025-06-09 15:50:37.392 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:37.392 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:37.392535142Z is not within any holiday period.
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:37.392535142Z is dow: MONDAY
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:37.392 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:37.392 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:37.392 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:37.392 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:37.392 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.393 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.393 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:37.393 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.393 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:37.393 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:37.393 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:37.394 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:37.394 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:37.395 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:37.395 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:37.396 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:37.396 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:37.396 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:37.396 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:37.396 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:37.396 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:38.396 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:38.397 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:38.397147608Z
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:38.397 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:38.397147608Z
2025-06-09 15:50:38.397 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:38.397 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:38.397147608Z is not within any holiday period.
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:38.397147608Z is dow: MONDAY
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:38.397 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:38.397 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:38.397 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:38.397 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:38.397 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:38.397 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:38.397 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:38.397 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:38.397 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.398 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:38.398 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:38.399 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:38.399 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:38.400 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:38.400 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:38.400 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:38.400 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:38.400 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:39.400 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:39.400 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.400 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:39.400789388Z
2025-06-09 15:50:39.400 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:39.400 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:39.400789388Z
2025-06-09 15:50:39.400 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:39.400 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:39.400 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:39.400789388Z is not within any holiday period.
2025-06-09 15:50:39.400 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:39.400789388Z is dow: MONDAY
2025-06-09 15:50:39.401 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:39.401 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:39.401 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:39.401 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:39.401 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:39.401 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:39.401 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:39.402 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:39.402 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:39.403 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:39.403 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:39.403 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:39.404 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:40.404 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:40.404 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:40.404441169Z
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:40.404 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:40.404441169Z
2025-06-09 15:50:40.404 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:40.404 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:40.404441169Z is not within any holiday period.
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:40.404441169Z is dow: MONDAY
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:40.404 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:40.404 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:40.404 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:40.404 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:40.404 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:40.405 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:40.405 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:40.406 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:40.406 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:40.407 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:40.407 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:40.407 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:40.408 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:41.408 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:41.408 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:41.408591515Z
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:41.408 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:41.408591515Z
2025-06-09 15:50:41.408 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:41.408 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:41.408591515Z is not within any holiday period.
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:41.408591515Z is dow: MONDAY
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:41.408 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:41.408 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:41.408 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:41.408 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:41.408 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.409 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:41.409 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:41.410 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:41.410 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:41.411 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:41.411 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:41.411 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:41.411 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:41.411 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:42.411 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:42.412 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:42.412225931Z
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:42.412 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:42.412225931Z
2025-06-09 15:50:42.412 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:42.412 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:42.412225931Z is not within any holiday period.
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:42.412225931Z is dow: MONDAY
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:42.412 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:42.412 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:42.412 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:42.412 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:42.412 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:42.413 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.413 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:42.414 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:42.414 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:42.415 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:42.415 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:42.415 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:42.415 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:42.415 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:42.415 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:43.415 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:43.416 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:43.416089622Z
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:43.416 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:43.416089622Z
2025-06-09 15:50:43.416 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:43.416 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:43.416089622Z is not within any holiday period.
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:43.416089622Z is dow: MONDAY
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:43.416 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:43.416 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:43.416 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:43.416 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:43.416 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:43.416 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:43.416 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:43.416 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.416 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.417 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:43.418 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:43.418 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:43.419 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:43.419 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:43.419 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:43.419 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:43.419 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:43.419 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:44.419 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:44.419 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:44.420023159Z
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:44.420 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:44.420023159Z
2025-06-09 15:50:44.420 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:44.420 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:44.420023159Z is not within any holiday period.
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:44.420023159Z is dow: MONDAY
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:44.420 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:44.420 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:44.420 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:44.420 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:44.420 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:44.420 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:44.420 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:44.420 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:44.420 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:44.421 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:44.421 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:44.422 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:44.422 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:44.423 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:44.423 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:44.423 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:44.423 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:44.423 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:44.423 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:45.423 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:45.424 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:45.424182069Z
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:45.424 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:45.424182069Z
2025-06-09 15:50:45.424 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:45.424 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:45.424182069Z is not within any holiday period.
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:45.424182069Z is dow: MONDAY
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:45.424 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:45.424 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:45.424 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:45.424 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:45.424 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:45.425 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:45.425 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:45.426 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:45.426 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:45.426 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:45.426 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.426 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:46.426 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:46.426858670Z
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:46.426 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:46.426858670Z
2025-06-09 15:50:46.426 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:46.426 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:46.426858670Z is not within any holiday period.
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:46.426858670Z is dow: MONDAY
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:46.426 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:46.427 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:46.427 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:46.428 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:46.428 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:46.429 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:46.429 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:46.429 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:46.429 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:47.430 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:47.430 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:47.430346848Z
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:47.430 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:47.430346848Z
2025-06-09 15:50:47.430 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:47.430 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:47.430346848Z is not within any holiday period.
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:47.430346848Z is dow: MONDAY
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:47.430 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:47.430 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:47.430 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:47.430 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:47.430 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.431 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:47.431 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:47.432 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:47.432 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:47.433 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:47.433 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:47.433 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:47.433 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:47.433 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:48.434 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:48.434 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:48.434375074Z
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:48.434 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:48.434375074Z
2025-06-09 15:50:48.434 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:48.434 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:48.434375074Z is not within any holiday period.
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:48.434375074Z is dow: MONDAY
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:48.434 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:48.434 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:48.434 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:48.434 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:48.434 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:48.435 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:48.435 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:48.436 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:48.436 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:48.437 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:48.437 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:48.437 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:48.437 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:49.437 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:49.438 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:49.438252055Z
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:49.438 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:49.438252055Z
2025-06-09 15:50:49.438 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:49.438 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:49.438252055Z is not within any holiday period.
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:49.438252055Z is dow: MONDAY
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:49.438 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:49.438 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:49.438 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:49.438 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:49.438 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.439 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:49.439 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:49.440 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:49.440 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:49.441 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:49.441 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:49.441 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:49.441 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:49.441 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:49.441 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:50.441 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:50.441 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:50.442047649Z
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:50.442 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:50.442047649Z
2025-06-09 15:50:50.442 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:50.442 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:50.442047649Z is not within any holiday period.
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:50.442047649Z is dow: MONDAY
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:50.442 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:50.442 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:50.442 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:50.442 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:50.442 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:50.442 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:50.442 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:50.442 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:50.443 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.443 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:50.444 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:50.444 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:50.445 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:50.445 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:50.445 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:50.445 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:50.445 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:50.445 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:50.445 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:50.445 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:51.401 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:50:51.401 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:50:51.401 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:50:51.402 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:50:51.402 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:50:51.402 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:50:51.445 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:51.446 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:51.446123006Z
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:51.446 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:51.446123006Z
2025-06-09 15:50:51.446 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:51.446 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:51.446123006Z is not within any holiday period.
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:51.446123006Z is dow: MONDAY
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:51.446 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:51.446 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:51.446 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:51.446 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:51.446 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:51.446 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:51.446 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:51.446 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:51.446 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:51.447 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:51.447 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:51.448 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:51.448 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:51.449 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:51.449 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:51.449 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:51.449 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:51.449 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:51.449 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:52.449 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:52.449 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:52.450012598Z
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:52.450 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:52.450012598Z
2025-06-09 15:50:52.450 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:52.450 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:52.450012598Z is not within any holiday period.
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:52.450012598Z is dow: MONDAY
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:52.450 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:52.450 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:52.450 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:52.450 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:52.450 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.451 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:52.451 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:52.452 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:52.452 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:52.453 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:52.453 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:52.453 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:52.453 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:52.453 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:52.453 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:52.453 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:53.454 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:53.454 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:53.454383056Z
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:53.454 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:53.454383056Z
2025-06-09 15:50:53.454 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:53.454 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:53.454383056Z is not within any holiday period.
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:53.454383056Z is dow: MONDAY
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:53.454 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:53.454 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:53.454 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:53.454 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:53.454 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.455 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:53.455 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:53.456 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:53.456 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:53.457 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:53.457 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:53.457 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:53.457 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:53.457 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:53.457 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:54.457 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:54.457 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.457 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:54.457941103Z
2025-06-09 15:50:54.457 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:54.457 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:54.457941103Z
2025-06-09 15:50:54.458 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:54.458 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:54.458 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:54.457941103Z is not within any holiday period.
2025-06-09 15:50:54.458 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:54.457941103Z is dow: MONDAY
2025-06-09 15:50:54.458 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:54.458 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:54.458 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:54.458 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:54.458 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:54.458 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:54.458 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:54.458 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:54.458 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:54.458 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.458 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:54.459 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:54.459 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:54.460 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:54.460 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:54.460 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:54.460 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:55.461 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:55.461 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:55.461358841Z
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:55.461 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:55.461358841Z
2025-06-09 15:50:55.461 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:55.461 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:55.461358841Z is not within any holiday period.
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:55.461358841Z is dow: MONDAY
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:55.461 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:55.461 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:55.461 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:55.461 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:55.461 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:55.462 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.462 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:55.463 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:55.463 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:55.464 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:55.464 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:55.464 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:55.464 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:55.464 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:56.464 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:56.465 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:56.465108033Z
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:56.465 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:56.465108033Z
2025-06-09 15:50:56.465 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:56.465 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:56.465108033Z is not within any holiday period.
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:56.465108033Z is dow: MONDAY
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:56.465 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:56.465 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:56.465 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:56.465 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:56.465 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:56.465 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:56.465 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:56.466 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:56.466 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:56.467 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:56.467 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:56.468 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:56.468 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:56.468 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:56.468 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:56.468 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:56.468 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:57.468 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:57.468 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:57.468806727Z
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:57.468 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:57.468806727Z
2025-06-09 15:50:57.468 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:57.468 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:57.468806727Z is not within any holiday period.
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:57.468806727Z is dow: MONDAY
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:57.468 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:57.469 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:57.469 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:57.469 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:57.469 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:57.470 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:57.470 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:57.471 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:57.471 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:57.472 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:57.472 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:57.472 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:58.472 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:58.472 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:58.472790008Z
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:58.472 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:58.472790008Z
2025-06-09 15:50:58.472 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:58.472 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:58.472790008Z is not within any holiday period.
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:58.472790008Z is dow: MONDAY
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:58.472 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:58.473 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:58.473 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:58.474 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:58.474 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:58.475 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:58.475 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:58.475 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:58.476 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:50:59.476 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:50:59.476 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:50:59.476417218Z
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:50:59.476 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:50:59.476417218Z
2025-06-09 15:50:59.476 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:50:59.476 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:50:59.476417218Z is not within any holiday period.
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:50:59.476417218Z is dow: MONDAY
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:50:59.476 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:50:59.476 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:50:59.476 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:59.476 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:50:59.476 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.477 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:59.477 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:59.478 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:50:59.478 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:50:59.479 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:50:59.479 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:50:59.479 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:50:59.479 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:00.479 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:00.480 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:00.480127195Z
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:00.480 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:00.480127195Z
2025-06-09 15:51:00.480 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:00.480 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:00.480127195Z is not within any holiday period.
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:00.480127195Z is dow: MONDAY
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:00.480 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:00.480 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:00.480 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:00.480 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:00.480 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:00.480 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:00.480 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:00.481 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:00.481 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:00.481 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:00.481 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:00.482 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:00.482 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:00.482 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:00.483 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:00.483 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:00.483 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.483 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:01.483 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:01.483424587Z
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:01.483 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:01.483424587Z
2025-06-09 15:51:01.483 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:01.483 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:01.483424587Z is not within any holiday period.
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:01.483424587Z is dow: MONDAY
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:01.483 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:01.483 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:01.483 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:01.483 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.483 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.484 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:01.484 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:01.485 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:01.485 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:01.485 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:01.486 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:02.486 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:02.486 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:02.486492381Z
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:02.486 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:02.486492381Z
2025-06-09 15:51:02.486 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:02.486 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:02.486492381Z is not within any holiday period.
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:02.486492381Z is dow: MONDAY
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:02.486 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:02.486 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:02.486 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:02.486 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:02.486 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.487 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:02.487 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:02.488 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:02.488 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:02.489 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:02.489 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:02.489 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:02.489 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:03.490 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:03.490 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:03.490401836Z
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:03.490 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:03.490401836Z
2025-06-09 15:51:03.490 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:03.490 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:03.490401836Z is not within any holiday period.
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:03.490401836Z is dow: MONDAY
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:03.490 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:03.490 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:03.490 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:03.490 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:03.490 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:03.491 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:03.491 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.492 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:03.492 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:03.493 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:03.493 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:03.494 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:03.494 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:04.494 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:04.494 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:04.494586516Z
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:04.494 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:04.494586516Z
2025-06-09 15:51:04.494 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:04.494 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:04.494586516Z is not within any holiday period.
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:04.494586516Z is dow: MONDAY
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:04.494 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:04.494 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:04.494 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:04.494 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:04.494 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:04.495 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:04.495 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:04.496 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:04.496 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:04.497 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:04.497 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:04.497 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:04.497 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:04.497 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:05.497 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:05.497 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:05.497684525Z
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:05.497 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:05.497684525Z
2025-06-09 15:51:05.497 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:05.497 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:05.497684525Z is not within any holiday period.
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:05.497684525Z is dow: MONDAY
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:05.497 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:05.497 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:05.498 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:05.498 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:05.498 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:05.498 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:05.498 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:05.499 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:05.499 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:05.500 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:05.501 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:05.500 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:05.501 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:05.502 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:05.502 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:05.502 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:05.502 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:05.502 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:05.502 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:06.502 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:06.503 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:06.503036043Z
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:06.503 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:06.503036043Z
2025-06-09 15:51:06.503 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:06.503 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:06.503036043Z is not within any holiday period.
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:06.503036043Z is dow: MONDAY
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:06.503 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:06.503 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:06.503 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:06.503 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:06.503 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:06.503 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:06.503 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:06.503 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:06.504 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:06.504 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:06.505 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:06.505 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:06.505 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:06.506 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:07.506 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:07.506 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:07.506528699Z
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:07.506 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:07.506528699Z
2025-06-09 15:51:07.506 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:07.506 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:07.506528699Z is not within any holiday period.
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:07.506528699Z is dow: MONDAY
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:07.506 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:07.506 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:07.506 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:07.506 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:07.506 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:07.507 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:07.507 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:07.507 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.507 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:07.507 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.507 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:07.508 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:07.508 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:07.509 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:07.509 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:07.510 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:07.510 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:07.510 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:08.510 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:08.510 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.510 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:08.510890809Z
2025-06-09 15:51:08.510 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:08.510 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:08.510890809Z
2025-06-09 15:51:08.510 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:08.510 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:08.510 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:08.510890809Z is not within any holiday period.
2025-06-09 15:51:08.510 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:08.510890809Z is dow: MONDAY
2025-06-09 15:51:08.511 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:08.511 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:08.511 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:08.511 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:08.511 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:08.511 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:08.511 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:08.512 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.512 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:08.513 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:08.513 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:08.514 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:08.514 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:08.514 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:08.514 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:08.514 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:08.514 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:09.514 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:09.514 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:09.514825198Z
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:09.514 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:09.514825198Z
2025-06-09 15:51:09.514 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:09.514 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:09.514825198Z is not within any holiday period.
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:09.514825198Z is dow: MONDAY
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:09.514 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.515 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:09.515 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:09.516 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:09.516 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:09.517 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:09.517 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:09.517 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:09.518 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:10.518 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:10.518 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:10.518617542Z
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:10.518 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:10.518617542Z
2025-06-09 15:51:10.518 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:10.518 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:10.518617542Z is not within any holiday period.
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:10.518617542Z is dow: MONDAY
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:10.518 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:10.518 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:10.518 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:10.518 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:10.519 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:10.519 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:10.519 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:10.519 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:10.519 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:10.519 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:10.520 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.520 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:10.521 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:10.521 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:10.521 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:10.522 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:11.522 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:11.522 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:11.522690382Z
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:11.522 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:11.522690382Z
2025-06-09 15:51:11.522 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:11.522 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:11.522690382Z is not within any holiday period.
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:11.522690382Z is dow: MONDAY
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:11.522 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:11.522 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:11.522 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:11.522 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:11.523 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:11.523 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:11.524 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:11.524 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:11.525 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:11.525 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:11.525 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:11.525 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:11.525 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:12.525 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:12.525 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.525 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:12.525973193Z
2025-06-09 15:51:12.526 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:12.526 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:12.525973193Z
2025-06-09 15:51:12.526 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:12.526 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:12.526 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:12.525973193Z is not within any holiday period.
2025-06-09 15:51:12.526 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:12.525973193Z is dow: MONDAY
2025-06-09 15:51:12.526 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:12.526 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:12.526 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:12.526 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:12.526 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:12.526 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:12.526 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:12.526 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:12.526 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.527 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:12.527 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:12.528 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:12.528 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:12.528 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:12.529 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:13.529 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:13.529 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:13.529700536Z
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:13.529 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:13.529700536Z
2025-06-09 15:51:13.529 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:13.529 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:13.529700536Z is not within any holiday period.
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:13.529700536Z is dow: MONDAY
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:13.529 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:13.529 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:13.529 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:13.530 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:13.530 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.530 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:13.530 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:13.530 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:13.530 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:13.531 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:13.531 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:13.532 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:13.533 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:13.532 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:13.533 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:13.533 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:14.533 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:14.533 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:14.533677046Z
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:14.533 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:14.533677046Z
2025-06-09 15:51:14.533 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:14.533 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:14.533677046Z is not within any holiday period.
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:14.533677046Z is dow: MONDAY
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:14.533 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:14.533 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:14.533 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:14.533 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.534 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:14.534 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:14.535 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:14.536 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:14.535 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:14.536 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:14.536 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:14.536 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:14.536 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:14.536 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:15.536 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:15.537 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:15.537133089Z
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:15.537 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:15.537133089Z
2025-06-09 15:51:15.537 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:15.537 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:15.537133089Z is not within any holiday period.
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:15.537133089Z is dow: MONDAY
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:15.537 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:15.537 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:15.537 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:15.537 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:15.537 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.537 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.538 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:15.538 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:15.539 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:15.539 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:15.539 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:15.539 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:15.540 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:15.540 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:15.539 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:15.540 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:15.540 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:15.540 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:15.540 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:15.540 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:16.541 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:16.541 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:16.541406143Z
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:16.541 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:16.541406143Z
2025-06-09 15:51:16.541 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:16.541 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:16.541406143Z is not within any holiday period.
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:16.541406143Z is dow: MONDAY
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:16.541 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:16.541 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:16.541 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:16.541 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:16.541 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.542 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:16.542 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:16.543 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:16.543 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:16.544 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:16.544 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:16.544 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:16.544 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:16.544 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:17.544 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:17.544 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:17.545012624Z
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:17.545 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:17.545012624Z
2025-06-09 15:51:17.545 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:17.545 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:17.545012624Z is not within any holiday period.
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:17.545012624Z is dow: MONDAY
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:17.545 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:17.545 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:17.545 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:17.545 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:17.545 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.545 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.546 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:17.546 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:17.547 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:17.547 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:17.548 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:17.548 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:17.548 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:17.548 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:17.548 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:17.548 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:18.548 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:18.549 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:18.549063518Z
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:18.549 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:18.549063518Z
2025-06-09 15:51:18.549 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:18.549 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:18.549063518Z is not within any holiday period.
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:18.549063518Z is dow: MONDAY
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:18.549 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:18.549 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:18.549 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:18.549 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.549 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:18.550 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:18.550 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:18.551 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:18.551 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:18.551 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:18.552 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:19.552 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:19.552 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:19.552497043Z
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:19.552 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:19.552497043Z
2025-06-09 15:51:19.552 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:19.552 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:19.552497043Z is not within any holiday period.
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:19.552497043Z is dow: MONDAY
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:19.552 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:19.552 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:19.552 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:19.552 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:19.552 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:19.553 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:19.553 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:19.554 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:19.554 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:19.555 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:19.555 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:19.555 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:19.555 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:20.555 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:20.556 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:20.556258188Z
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:20.556 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:20.556258188Z
2025-06-09 15:51:20.556 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:20.556 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:20.556258188Z is not within any holiday period.
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:20.556258188Z is dow: MONDAY
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:20.556 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:20.556 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:20.556 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:20.556 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:20.556 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.557 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:20.557 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:20.558 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:20.558 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:20.559 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:20.559 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:20.559 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:20.559 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:20.559 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:21.409 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:51:21.409 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1191)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:51:21.409 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server: Temporary failure in name resolution
2025-06-09 15:51:21.409 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server
2025-06-09 15:51:21.409 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:51:21.409 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:51:21.559 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:21.560 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:21.560134531Z
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:21.560 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:21.560134531Z
2025-06-09 15:51:21.560 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:21.560 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:21.560134531Z is not within any holiday period.
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:21.560134531Z is dow: MONDAY
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:21.560 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:21.560 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:21.560 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:21.560 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:21.560 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:21.560 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:21.560 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:21.560 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:21.560 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:21.560 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:21.561 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:21.561 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:21.562 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:21.562 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:21.563 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:21.563 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:21.563 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:21.563 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:21.563 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:21.563 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:21.563 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:22.563 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:22.564 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:22.564070287Z
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:22.564 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:22.564070287Z
2025-06-09 15:51:22.564 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:22.564 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:22.564070287Z is not within any holiday period.
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:22.564070287Z is dow: MONDAY
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:22.564 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:22.564 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:22.564 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:22.564 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:22.564 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:22.564 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:22.564 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:22.564 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:22.564 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:22.564 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.565 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:22.565 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:22.566 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:22.566 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:22.567 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:22.567 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:22.567 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:22.568 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:23.568 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:23.568 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:23.568567251Z
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:23.568 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:23.568567251Z
2025-06-09 15:51:23.568 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:23.568 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:23.568567251Z is not within any holiday period.
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:23.568567251Z is dow: MONDAY
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:23.568 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:23.568 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:23.568 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:23.568 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:23.568 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.569 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.569 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:23.570 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:23.570 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:23.571 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:23.572 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:23.571 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:23.572 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:23.572 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:24.572 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:24.572 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:24.572750688Z
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:24.572 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:24.572750688Z
2025-06-09 15:51:24.572 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:24.572 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:24.572750688Z is not within any holiday period.
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:24.572750688Z is dow: MONDAY
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:24.572 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:24.572 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:24.572 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:24.573 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:24.573 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:24.573 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:24.573 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:24.574 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:24.574 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:24.575 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:24.575 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:24.576 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:24.576 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:24.576 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:24.576 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:24.576 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:24.576 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:25.576 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:25.576 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:25.577003223Z
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:25.577 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:25.577003223Z
2025-06-09 15:51:25.577 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:25.577 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:25.577003223Z is not within any holiday period.
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:25.577003223Z is dow: MONDAY
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:25.577 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:25.577 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:25.577 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:25.577 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:25.577 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:25.577 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:25.577 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:25.577 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:25.577 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:25.578 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:25.578 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:25.579 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:25.579 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:25.580 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:25.580 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:25.580 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:25.580 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:25.580 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:25.580 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:26.580 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:26.580 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:26.581003484Z
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:26.581 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:26.581003484Z
2025-06-09 15:51:26.581 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:26.581 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:26.581003484Z is not within any holiday period.
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:26.581003484Z is dow: MONDAY
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:26.581 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:26.581 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:26.581 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:26.581 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:26.581 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:26.581 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:26.581 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:26.581 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:26.581 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:26.581 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:26.582 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:26.582 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:26.583 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:26.583 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:26.584 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:26.584 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:26.584 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:26.584 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:26.584 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:26.584 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:27.584 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:27.584 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:27.584829125Z
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:27.584 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:27.584829125Z
2025-06-09 15:51:27.584 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:27.584 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:27.584829125Z is not within any holiday period.
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:27.584829125Z is dow: MONDAY
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:27.584 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.585 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:27.585 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.586 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:27.586 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:27.587 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:27.587 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:27.588 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:27.588 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:27.588 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:27.588 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:27.588 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:27.588 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:28.588 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:28.588 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:28.588703106Z
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:28.588 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:28.588703106Z
2025-06-09 15:51:28.588 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:28.588 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:28.588703106Z is not within any holiday period.
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:28.588703106Z is dow: MONDAY
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:28.588 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:28.588 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:28.588 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:28.588 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:28.588 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:28.589 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:28.589 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:28.589 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:28.589 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:28.589 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:28.590 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:28.590 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:28.590 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:28.590 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:28.591 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:29.591 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:29.591 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:29.591448644Z
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:29.591 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:29.591448644Z
2025-06-09 15:51:29.591 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:29.591 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:29.591448644Z is not within any holiday period.
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:29.591448644Z is dow: MONDAY
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:29.591 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:29.591 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:29.591 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:29.591 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:29.591 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:29.592 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:29.592 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:29.593 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:29.593 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:29.594 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:29.594 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:29.594 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:29.594 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:29.594 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:29.594 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:30.594 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:30.594 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.594 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:30.594982214Z
2025-06-09 15:51:30.595 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:30.595 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:30.594982214Z
2025-06-09 15:51:30.595 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:30.595 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:30.595 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:30.594982214Z is not within any holiday period.
2025-06-09 15:51:30.595 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:30.594982214Z is dow: MONDAY
2025-06-09 15:51:30.595 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:30.595 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:30.595 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:30.595 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:30.595 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:30.595 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:30.595 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:30.595 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:30.595 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:30.595 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.595 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:30.596 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:30.596 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:30.597 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:30.598 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:30.598 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:30.597 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:30.598 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:30.598 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:30.598 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:30.598 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:30.598 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:30.598 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:30.598 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:30.598 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:31.599 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:31.599 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:31.599549763Z
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:31.599 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:31.599549763Z
2025-06-09 15:51:31.599 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:31.599 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:31.599549763Z is not within any holiday period.
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:31.599549763Z is dow: MONDAY
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:31.599 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:31.599 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:31.599 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:31.599 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:31.599 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:31.600 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:31.600 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:31.601 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:31.601 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:31.602 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:31.602 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:31.602 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:31.602 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:31.602 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:31.602 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:32.602 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:32.603 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:32.603065489Z
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:32.603 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:32.603065489Z
2025-06-09 15:51:32.603 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:32.603 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:32.603065489Z is not within any holiday period.
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:32.603065489Z is dow: MONDAY
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:32.603 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:32.603 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:32.603 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:32.603 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.603 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.604 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:32.604 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:32.605 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:32.605 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:32.606 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:32.606 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:32.606 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:32.606 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:32.606 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:33.606 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:33.606 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:33.606689627Z
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:33.606 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:33.606689627Z
2025-06-09 15:51:33.606 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:33.606 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:33.606689627Z is not within any holiday period.
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:33.606689627Z is dow: MONDAY
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:33.606 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:33.606 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:33.606 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:33.606 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.607 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:33.607 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:33.608 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:33.608 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:33.609 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:33.609 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:33.609 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:33.609 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:34.610 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:34.610 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:34.610294551Z
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:34.610 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:34.610294551Z
2025-06-09 15:51:34.610 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:34.610 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:34.610294551Z is not within any holiday period.
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:34.610294551Z is dow: MONDAY
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:34.610 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:34.610 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:34.610 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:34.610 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:34.610 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.611 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:34.611 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:34.612 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:34.613 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:34.613 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:34.612 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:34.613 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:34.613 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:34.613 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:34.613 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:34.613 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:34.613 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:35.613 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:35.614 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:35.614133689Z
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:35.614 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:35.614133689Z
2025-06-09 15:51:35.614 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:35.614 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:35.614133689Z is not within any holiday period.
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:35.614133689Z is dow: MONDAY
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:35.614 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:35.614 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:35.614 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:35.614 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:35.614 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:35.614 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:35.614 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:35.614 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:35.615 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:35.615 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:35.616 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:35.616 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:35.617 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:35.617 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:36.617 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:36.617 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:36.617606733Z
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:36.617 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:36.617606733Z
2025-06-09 15:51:36.617 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:36.617 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:36.617606733Z is not within any holiday period.
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:36.617606733Z is dow: MONDAY
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:36.617 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:36.617 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:36.617 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:36.617 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.618 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:36.618 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.619 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:36.619 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:36.620 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:36.620 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:36.620 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:36.620 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:36.620 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:36.620 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:36.620 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:37.620 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:37.621 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:37.621229355Z
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:37.621 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:37.621229355Z
2025-06-09 15:51:37.621 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:37.621 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:37.621229355Z is not within any holiday period.
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:37.621229355Z is dow: MONDAY
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:37.621 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:37.621 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:37.621 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:37.621 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:37.621 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.622 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:37.623 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:37.623 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:37.624 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:37.624 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:37.624 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:37.624 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:37.624 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:37.624 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:37.624 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:37.624 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:38.624 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:38.624 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:38.625028509Z
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:38.625 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:38.625028509Z
2025-06-09 15:51:38.625 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:38.625 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:38.625028509Z is not within any holiday period.
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:38.625028509Z is dow: MONDAY
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:38.625 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:38.625 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:38.625 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:38.625 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:38.625 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:38.625 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:38.625 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:38.625 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.625 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:38.626 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:38.626 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:38.627 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:38.627 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:38.627 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:38.627 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.627 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:39.628 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:39.628051515Z
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:39.628 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:39.628051515Z
2025-06-09 15:51:39.628 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:39.628 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:39.628051515Z is not within any holiday period.
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:39.628051515Z is dow: MONDAY
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:39.628 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:39.628 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:39.628 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:39.628 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:39.628 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.628 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:39.628 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.628 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:39.628 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:39.629 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:39.629 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:39.630 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:39.630 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:39.631 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:39.631 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:39.631 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:39.631 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:39.631 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:40.631 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:40.632 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:40.632079132Z
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:40.632 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:40.632079132Z
2025-06-09 15:51:40.632 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:40.632 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:40.632079132Z is not within any holiday period.
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:40.632079132Z is dow: MONDAY
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:40.632 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:40.632 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:40.632 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:40.632 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:40.632 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:40.633 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.633 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:40.634 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:40.635 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:40.634 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:40.635 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:40.635 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:40.635 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:40.635 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:40.635 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:41.636 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:41.636 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:41.636331501Z
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:41.636 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:41.636331501Z
2025-06-09 15:51:41.636 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:41.636 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:41.636331501Z is not within any holiday period.
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:41.636331501Z is dow: MONDAY
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:41.636 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:41.636 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:41.636 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:41.636 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:41.636 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.637 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:41.637 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:41.638 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:41.638 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:41.639 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:41.639 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:41.639 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:41.639 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:41.639 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:41.639 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:41.639 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:42.640 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:42.640 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:42.640303145Z
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:42.640 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:42.640303145Z
2025-06-09 15:51:42.640 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:42.640 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:42.640303145Z is not within any holiday period.
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:42.640303145Z is dow: MONDAY
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:42.640 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:42.640 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:42.640 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:42.640 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:42.640 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:42.641 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:42.641 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:42.642 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:42.642 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:42.643 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:42.643 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:42.643 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:42.643 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:42.643 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:42.643 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:42.643 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:43.643 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:43.643 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.643 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:43.643917884Z
2025-06-09 15:51:43.643 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:43.643 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:43.643917884Z
2025-06-09 15:51:43.643 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:43.644 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:43.644 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:43.643917884Z is not within any holiday period.
2025-06-09 15:51:43.644 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:43.643917884Z is dow: MONDAY
2025-06-09 15:51:43.644 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:43.644 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:43.644 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:43.644 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:43.644 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:43.644 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:43.644 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:43.645 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:43.645 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:43.646 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:43.646 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:43.646 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:43.647 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:44.647 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:44.647 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:44.647379626Z
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:44.647 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:44.647379626Z
2025-06-09 15:51:44.647 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:44.647 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:44.647379626Z is not within any holiday period.
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:44.647379626Z is dow: MONDAY
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:44.647 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:44.647 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:44.647 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:44.647 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:44.647 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.648 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:44.648 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:44.649 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:44.649 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:44.650 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:44.650 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:44.650 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:44.650 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:44.650 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:44.650 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:45.650 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:45.650 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:45.651016740Z
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:45.651 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:45.651016740Z
2025-06-09 15:51:45.651 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:45.651 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:45.651016740Z is not within any holiday period.
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:45.651016740Z is dow: MONDAY
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:45.651 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:45.651 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:45.651 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:45.651 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:45.651 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:45.651 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.652 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:45.652 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:45.653 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:45.654 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:45.653 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:45.654 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:45.654 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:45.654 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:46.654 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:46.654 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:46.654734722Z
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:46.654 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:46.654734722Z
2025-06-09 15:51:46.654 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:46.654 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:46.654734722Z is not within any holiday period.
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:46.654734722Z is dow: MONDAY
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:46.654 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:46.654 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:46.655 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:46.654 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:46.655 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:46.655 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:46.655 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:46.655 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:46.656 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:46.656 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:46.656 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.656 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:46.656 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:51:46.656 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:46.657 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:46.657 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:46.657 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:46.657 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:46.657 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:47.657 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:47.658 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:47.658065147Z
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:47.658 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:47.658065147Z
2025-06-09 15:51:47.658 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:47.658 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:47.658065147Z is not within any holiday period.
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:47.658065147Z is dow: MONDAY
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:47.658 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:47.658 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:47.658 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:47.658 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:47.658 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:47.659 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:47.659 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:47.660 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:47.660 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:47.660 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:47.660 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.661 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:48.661 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:48.661290359Z
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:48.661 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:48.661290359Z
2025-06-09 15:51:48.661 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:48.661 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:48.661290359Z is not within any holiday period.
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:48.661290359Z is dow: MONDAY
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:48.661 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:48.661 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:48.661 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:48.661 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:48.661 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.662 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:48.663 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:48.664 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:48.664 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:48.664 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:48.663 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:48.664 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:48.664 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:48.664 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:48.664 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:48.664 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:48.664 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:48.664 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:48.664 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:49.664 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:49.665 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:49.665108431Z
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:49.665 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:49.665108431Z
2025-06-09 15:51:49.665 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:49.665 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:49.665108431Z is not within any holiday period.
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:49.665108431Z is dow: MONDAY
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:49.665 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:49.665 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:49.665 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:49.665 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:49.665 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:49.665 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.666 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:49.666 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:49.667 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:49.667 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:49.667 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:49.668 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:50.668 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:50.668 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:50.668515050Z
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:50.668 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:50.668515050Z
2025-06-09 15:51:50.668 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:50.668 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:50.668515050Z is not within any holiday period.
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:50.668515050Z is dow: MONDAY
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:50.668 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:50.668 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:50.668 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:50.668 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:50.668 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.669 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:50.669 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:50.670 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:50.670 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:50.671 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:50.671 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:50.671 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:50.671 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:50.671 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:51.425 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:51:51.425 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:51:51.425 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:51:51.425 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:51:51.425 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:51:51.425 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:51:51.671 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:51.671 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.671 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:51.671936991Z
2025-06-09 15:51:51.671 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:51.671 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:51.671936991Z
2025-06-09 15:51:51.672 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:51.672 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:51.672 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:51.671936991Z is not within any holiday period.
2025-06-09 15:51:51.672 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:51.671936991Z is dow: MONDAY
2025-06-09 15:51:51.672 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:51.672 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:51.672 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:51.672 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:51.672 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:51.672 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:51.673 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:51.673 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:51.674 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:51.674 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:51.674 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:51.674 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:52.675 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:52.675 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:52.675286957Z
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:52.675 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:52.675286957Z
2025-06-09 15:51:52.675 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:52.675 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:52.675286957Z is not within any holiday period.
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:52.675286957Z is dow: MONDAY
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:52.675 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:52.675 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:52.675 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:52.675 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:52.675 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.676 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:52.676 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:52.677 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:52.678 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:52.677 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:52.678 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:52.678 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:52.678 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:52.678 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:52.678 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:52.678 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:52.678 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:52.678 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:53.678 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:53.679 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:53.679068808Z
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:53.679 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:53.679068808Z
2025-06-09 15:51:53.679 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:53.679 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:53.679068808Z is not within any holiday period.
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:53.679068808Z is dow: MONDAY
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:53.679 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:53.679 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:53.679 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:53.679 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:53.679 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:53.680 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.680 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:53.681 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:53.681 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:53.682 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:53.682 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:53.682 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:53.682 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:53.682 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:53.682 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:53.682 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:53.682 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:53.682 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:54.682 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:54.682 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:54.682828143Z
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:54.682 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:54.682828143Z
2025-06-09 15:51:54.682 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:54.682 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:54.682828143Z is not within any holiday period.
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:54.682828143Z is dow: MONDAY
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:54.682 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:54.683 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:54.683 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:54.684 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:54.684 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:54.685 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:54.685 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:54.685 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:54.685 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:55.685 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:55.686 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:55.686180258Z
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:55.686 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:55.686180258Z
2025-06-09 15:51:55.686 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:55.686 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:55.686180258Z is not within any holiday period.
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:55.686180258Z is dow: MONDAY
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:55.686 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:55.686 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:55.686 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:55.686 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:55.686 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:55.686 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:55.686 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.686 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:55.687 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:55.687 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:55.688 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:55.688 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:55.688 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:55.688 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:55.689 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:55.689 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.688 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:56.689 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:56.689213309Z
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:56.689 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:56.689213309Z
2025-06-09 15:51:56.689 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:56.689 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:56.689213309Z is not within any holiday period.
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:56.689213309Z is dow: MONDAY
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:56.689 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:56.689 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:56.689 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:56.689 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:56.689 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.690 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:56.690 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:56.691 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:56.691 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:56.692 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:56.692 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:56.692 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:56.692 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:57.692 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:57.692 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.692 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:57.692969569Z
2025-06-09 15:51:57.693 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:57.693 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:57.692969569Z
2025-06-09 15:51:57.693 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:57.693 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:57.693 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:57.692969569Z is not within any holiday period.
2025-06-09 15:51:57.693 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:57.692969569Z is dow: MONDAY
2025-06-09 15:51:57.693 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:57.693 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:57.693 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:57.693 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:57.693 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:57.693 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.693 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:57.694 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:57.694 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:57.695 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:57.695 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:57.696 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:57.696 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:57.696 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:57.696 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:58.696 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:58.696 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:58.696785330Z
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:58.696 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:58.696785330Z
2025-06-09 15:51:58.696 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:58.696 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:58.696785330Z is not within any holiday period.
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:58.696785330Z is dow: MONDAY
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:58.696 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:58.696 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:58.696 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.697 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:58.697 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:58.698 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:51:58.698 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:58.699 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:58.699 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:58.699 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:58.699 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:51:59.700 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:51:59.700 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:51:59.700328835Z
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:51:59.700 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:51:59.700328835Z
2025-06-09 15:51:59.700 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:51:59.700 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:51:59.700328835Z is not within any holiday period.
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:51:59.700328835Z is dow: MONDAY
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:51:59.700 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:51:59.700 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:51:59.700 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:59.700 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:51:59.700 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:59.700 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:51:59.700 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.701 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:51:59.701 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:51:59.702 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:51:59.702 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:51:59.703 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:51:59.703 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:51:59.703 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:51:59.703 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:51:59.703 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:51:59.703 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:00.703 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:00.703 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:00.703758114Z
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:00.703 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:00.703758114Z
2025-06-09 15:52:00.703 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:00.703 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:00.703758114Z is not within any holiday period.
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:00.703758114Z is dow: MONDAY
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:00.703 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:00.703 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:00.704 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:00.704 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:00.704 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:00.704 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:00.704 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:00.705 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:00.706 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:00.706 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:00.706 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:00.705 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:00.706 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:00.706 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:00.706 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:00.706 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:00.706 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:01.706 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:01.707 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:01.707103702Z
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:01.707 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:01.707103702Z
2025-06-09 15:52:01.707 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:01.707 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:01.707103702Z is not within any holiday period.
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:01.707103702Z is dow: MONDAY
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:01.707 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:01.707 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:01.707 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:01.707 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.707 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:01.707 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:01.707 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:01.708 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:01.708 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:01.709 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:01.709 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:01.709 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:01.710 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:02.710 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:02.711 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:02.711041305Z
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:02.711 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:02.711041305Z
2025-06-09 15:52:02.711 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:02.711 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:02.711041305Z is not within any holiday period.
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:02.711041305Z is dow: MONDAY
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:02.711 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:02.711 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:02.711 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:02.711 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:02.711 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:02.711 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:02.711 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:02.711 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:02.712 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:02.712 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:02.713 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:02.713 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:02.714 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:02.714 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:02.714 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:02.714 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:02.714 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:02.714 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:02.715 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:03.715 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:03.715 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:03.715457432Z
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:03.715 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:03.715457432Z
2025-06-09 15:52:03.715 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:03.715 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:03.715457432Z is not within any holiday period.
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:03.715457432Z is dow: MONDAY
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:03.715 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:03.715 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:03.715 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:03.715 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:03.715 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:03.716 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:03.716 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:03.716 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:03.716 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.716 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:03.716 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:03.717 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:03.717 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:03.718 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:03.718 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:03.718 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:03.718 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:03.718 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:04.718 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:04.718 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.718 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:04.718963620Z
2025-06-09 15:52:04.718 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:04.719 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:04.718963620Z
2025-06-09 15:52:04.719 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:04.719 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:04.719 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:04.718963620Z is not within any holiday period.
2025-06-09 15:52:04.719 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:04.718963620Z is dow: MONDAY
2025-06-09 15:52:04.719 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:04.719 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.719 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:04.719 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:04.720 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:04.720 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:04.721 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:04.721 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:04.721 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:04.721 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:05.722 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:05.722 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:05.722325288Z
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:05.722 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:05.722325288Z
2025-06-09 15:52:05.722 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:05.722 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:05.722325288Z is not within any holiday period.
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:05.722325288Z is dow: MONDAY
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:05.722 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:05.722 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:05.722 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:05.722 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:05.722 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.723 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:05.724 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:05.724 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:05.725 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:05.725 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:05.725 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:05.725 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:05.725 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:05.725 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:05.725 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:06.725 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:06.725 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.725 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:06.725862309Z
2025-06-09 15:52:06.725 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:06.725 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:06.725862309Z
2025-06-09 15:52:06.725 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:06.725 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:06.725 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:06.725862309Z is not within any holiday period.
2025-06-09 15:52:06.725 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:06.725862309Z is dow: MONDAY
2025-06-09 15:52:06.725 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:06.726 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:06.726 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:06.726 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:06.726 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.726 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:06.726 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:06.726 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.727 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:06.728 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:06.728 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:06.729 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:06.729 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:06.729 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:07.729 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:07.729 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:07.729603767Z
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:07.729 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:07.729603767Z
2025-06-09 15:52:07.729 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:07.729 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:07.729603767Z is not within any holiday period.
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:07.729603767Z is dow: MONDAY
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:07.729 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:07.729 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:07.729 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:07.729 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:07.729 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:07.730 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:07.730 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:07.731 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:07.731 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:07.732 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:07.732 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:07.733 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:07.733 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:08.733 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:08.733 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:08.733708946Z
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:08.733 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:08.733708946Z
2025-06-09 15:52:08.733 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:08.733 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:08.733708946Z is not within any holiday period.
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:08.733708946Z is dow: MONDAY
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:08.733 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:08.733 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:08.733 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:08.733 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:08.734 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:08.734 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:08.734 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:08.734 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:08.734 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:08.735 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:08.735 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:08.736 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:08.736 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:08.736 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:08.736 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:09.737 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:09.737 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:09.737276415Z
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:09.737 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:09.737276415Z
2025-06-09 15:52:09.737 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:09.737 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:09.737276415Z is not within any holiday period.
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:09.737276415Z is dow: MONDAY
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:09.737 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:09.737 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:09.737 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:09.737 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:09.737 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.738 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:09.738 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:09.739 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:09.739 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:09.740 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:09.740 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:09.740 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:09.740 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:09.740 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:09.740 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:10.740 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:10.740 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:10.740739392Z
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:10.740 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:10.740739392Z
2025-06-09 15:52:10.740 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:10.740 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:10.740739392Z is not within any holiday period.
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:10.740739392Z is dow: MONDAY
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:10.740 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:10.740 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:10.740 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.741 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:10.741 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:10.742 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:10.742 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:10.743 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:10.743 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:10.743 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:10.743 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:10.743 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:11.743 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:11.744 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:11.744121678Z
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:11.744 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:11.744121678Z
2025-06-09 15:52:11.744 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:11.744 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:11.744121678Z is not within any holiday period.
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:11.744121678Z is dow: MONDAY
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:11.744 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:11.744 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:11.744 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:11.744 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:11.744 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:11.744 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:11.744 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:11.744 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:11.745 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:11.745 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:11.746 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:11.746 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:11.746 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:11.747 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:12.747 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:12.747 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:12.747399419Z
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:12.747 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:12.747399419Z
2025-06-09 15:52:12.747 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:12.747 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:12.747399419Z is not within any holiday period.
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:12.747399419Z is dow: MONDAY
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:12.747 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:12.747 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:12.747 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:12.747 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:12.747 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:12.748 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.748 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:12.749 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:12.749 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:12.750 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:12.750 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:12.750 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:12.750 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:12.750 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:13.750 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:13.750 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.750 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:13.750986805Z
2025-06-09 15:52:13.751 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:13.751 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:13.750986805Z
2025-06-09 15:52:13.751 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:13.751 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:13.751 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:13.750986805Z is not within any holiday period.
2025-06-09 15:52:13.751 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:13.750986805Z is dow: MONDAY
2025-06-09 15:52:13.751 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:13.751 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:13.751 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:13.751 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.751 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:13.751 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:13.752 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:13.752 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:13.753 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:13.753 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:13.754 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:13.754 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:13.754 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:14.754 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:14.754 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:14.754646760Z
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:14.754 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:14.754646760Z
2025-06-09 15:52:14.754 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:14.754 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:14.754646760Z is not within any holiday period.
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:14.754646760Z is dow: MONDAY
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:14.754 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:14.754 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:14.754 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:14.754 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:14.755 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:14.755 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:14.756 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:14.756 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:14.757 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:14.757 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:14.757 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:14.758 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:15.758 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:15.758 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:15.758403469Z
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:15.758 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:15.758403469Z
2025-06-09 15:52:15.758 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:15.758 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:15.758403469Z is not within any holiday period.
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:15.758403469Z is dow: MONDAY
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:15.758 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:15.758 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:15.758 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:15.758 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:15.758 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.759 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:15.759 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:15.760 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:15.760 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:15.761 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:15.761 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:15.761 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:15.761 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:15.761 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:16.761 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:16.761 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:16.761865785Z
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:16.761 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:16.761865785Z
2025-06-09 15:52:16.761 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:16.761 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:16.761865785Z is not within any holiday period.
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:16.761865785Z is dow: MONDAY
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:16.761 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.762 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:16.762 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:16.763 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:16.763 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:16.764 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:16.764 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:16.764 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:16.764 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:17.765 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:17.765 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:17.765305647Z
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:17.765 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:17.765305647Z
2025-06-09 15:52:17.765 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:17.765 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:17.765305647Z is not within any holiday period.
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:17.765305647Z is dow: MONDAY
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:17.765 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:17.765 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:17.765 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:17.765 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:17.765 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:17.766 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:17.766 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:17.767 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:17.767 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:17.767 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:17.767 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:17.768 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:18.768 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:18.768 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:18.768407821Z
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:18.768 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:18.768407821Z
2025-06-09 15:52:18.768 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:18.768 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:18.768407821Z is not within any holiday period.
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:18.768407821Z is dow: MONDAY
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:18.768 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:18.768 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:18.768 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:18.768 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:18.768 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:18.769 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:18.769 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:18.770 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:18.770 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:18.771 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:18.771 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:18.772 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:18.772 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:18.772 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:19.772 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:19.772 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:19.772589992Z
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:19.772 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:19.772589992Z
2025-06-09 15:52:19.772 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:19.772 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:19.772589992Z is not within any holiday period.
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:19.772589992Z is dow: MONDAY
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:19.772 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:19.772 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:19.772 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:19.772 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:19.772 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:19.773 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:19.773 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:19.773 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:19.774 [EURUSD] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:19.774 [USDTRY] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:19.775 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:19.775 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:19.775 [USDTRY] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:19.775 [USDTRY] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:19.775 [EURUSD] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:19.775 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:19.775 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:20.775 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:20.776 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:20.776123510Z
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:20.776 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:20.776123510Z
2025-06-09 15:52:20.776 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:20.776 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:20.776123510Z is not within any holiday period.
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:20.776123510Z is dow: MONDAY
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:20.776 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:20.776 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:20.776 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:20.776 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:20.776 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:20.777 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.777 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:20.778 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:20.778 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:20.779 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:20.779 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:21.075 [] [AsyncResolver-bootstrap-executor-%d] INFO  ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-09 15:52:21.431 [] [DiscoveryClient-HeartbeatExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:119)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server: Temporary failure in name resolution
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
	at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:52)
	at java.base/java.net.InetAddress$PlatformResolver.lookupByName(InetAddress.java:1211)
	at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1828)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1139)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 20 more

2025-06-09 15:52:21.431 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  RedirectingEurekaHttpClient - Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://discovery-server:8761/eureka/}, exception=I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:926)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:906)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:841)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:702)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:174)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:186)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.UnknownHostException: discovery-server
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:1191)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.hc.client5.http.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:48)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:169)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:490)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:164)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:174)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:144)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:150)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:174)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:71)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:117)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:141)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:81)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)
	... 23 more

2025-06-09 15:52:21.431 [] [DiscoveryClient-CacheRefreshExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on GET request for "http://discovery-server:8761/eureka/apps/delta": discovery-server
2025-06-09 15:52:21.431 [] [DiscoveryClient-HeartbeatExecutor-%d] WARN  RetryableEurekaHttpClient - Request execution failed with message: I/O error on PUT request for "http://discovery-server:8761/eureka/apps/REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider": discovery-server: Temporary failure in name resolution
2025-06-09 15:52:21.431 [] [DiscoveryClient-CacheRefreshExecutor-%d] INFO  DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2025-06-09 15:52:21.431 [] [DiscoveryClient-HeartbeatExecutor-%d] ERROR DiscoveryClient - DiscoveryClient_REST-DATA-PROVIDER/dd7fe589a4a3:rest-data-provider - was unable to send heartbeat!
com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.4.jar!/:2.0.4]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572) ~[?:?]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-09 15:52:21.779 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:21.779 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:21.779611510Z
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:21.779 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:21.779611510Z
2025-06-09 15:52:21.779 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:21.779 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:21.779611510Z is not within any holiday period.
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:21.779611510Z is dow: MONDAY
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:21.779 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:21.779 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:21.779 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:21.779 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:21.780 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.780 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:21.781 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:21.781 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:21.782 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:21.782 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:21.782 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:21.783 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:22.783 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:22.783 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:22.783499002Z
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:22.783 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:22.783499002Z
2025-06-09 15:52:22.783 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:22.783 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:22.783499002Z is not within any holiday period.
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:22.783499002Z is dow: MONDAY
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:22.783 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:22.783 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:22.783 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:22.783 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:22.783 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:22.784 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:22.784 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:22.784 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:22.784 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:22.784 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:22.784 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:22.785 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:22.785 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:22.786 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:22.786 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:22.786 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:22.786 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:22.786 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:22.786 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:23.786 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:23.786 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.786 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:23.786842300Z
2025-06-09 15:52:23.786 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:23.786 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:23.786842300Z
2025-06-09 15:52:23.786 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:23.786 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:23.786 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:23.786842300Z is not within any holiday period.
2025-06-09 15:52:23.786 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:23.786842300Z is dow: MONDAY
2025-06-09 15:52:23.786 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:23.787 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:23.787 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:23.787 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:23.787 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:23.787 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.787 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:23.787 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 8
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:23.788 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:23.788 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:23.789 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:23.789 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:23.789 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:23.790 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:24.790 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:24.790 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:24.790426463Z
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:24.790 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:24.790426463Z
2025-06-09 15:52:24.790 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:24.790 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:24.790426463Z is not within any holiday period.
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:24.790426463Z is dow: MONDAY
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:24.790 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:24.790 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:24.790 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:24.790 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:24.790 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.791 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:24.791 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:24.791 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:24.792 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:24.792 [EURUSD] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:24.793 [USDTRY] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:24.793 [USDTRY] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:24.793 [EURUSD] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:24.793 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:24.793 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:25.793 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:25.794 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:25.794109325Z
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:25.794 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:25.794109325Z
2025-06-09 15:52:25.794 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:25.794 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:25.794109325Z is not within any holiday period.
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:25.794109325Z is dow: MONDAY
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:25.794 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:25.794 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:25.794 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:25.794 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:25.794 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:25.794 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:25.794 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:25.794 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:25.794 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:25.795 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:25.795 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:25.796 [USDTRY] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:25.796 [EURUSD] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:25.797 [EURUSD] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:25.797 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:25.797 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:26.797 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:26.797 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:26.797718219Z
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:26.797 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:26.797718219Z
2025-06-09 15:52:26.797 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:26.797 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:26.797718219Z is not within any holiday period.
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:26.797718219Z is dow: MONDAY
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:26.797 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:26.797 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:26.798 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:26.798 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:26.798 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:26.798 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:26.798 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:26.798 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.799 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:26.799 [USDTRY] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:26.800 [USDTRY] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:26.800 [EURUSD] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:26.801 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:26.801 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:27.801 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:27.801 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:27.801604554Z
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:27.801 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:27.801604554Z
2025-06-09 15:52:27.801 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:27.801 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:27.801604554Z is not within any holiday period.
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:27.801604554Z is dow: MONDAY
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:27.801 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:27.801 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:27.801 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:27.801 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:27.801 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.802 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:27.803 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 7
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:27.803 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:27.804 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:27.804 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:27.804 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:27.804 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:27.804 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:28.804 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:28.804 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.804 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:28.804936816Z
2025-06-09 15:52:28.804 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:28.804 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:28.804936816Z
2025-06-09 15:52:28.804 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:28.805 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:28.805 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:28.804936816Z is not within any holiday period.
2025-06-09 15:52:28.805 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:28.804936816Z is dow: MONDAY
2025-06-09 15:52:28.805 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:28.805 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:28.805 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:28.805 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:28.805 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:28.805 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:28.805 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.806 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:28.806 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 5
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:28.807 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:28.807 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:28.807 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:28.808 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:29.808 [] [RateScheduler-3] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:29.808 [] [RateScheduler-3] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:29.808483799Z
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:29.808 [] [RateScheduler-3] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:29.808483799Z
2025-06-09 15:52:29.808 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:29.808 [] [RateScheduler-3] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:29.808483799Z is not within any holiday period.
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:29.808483799Z is dow: MONDAY
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:29.808 [] [RateScheduler-3] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:29.808 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:29.808 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:29.808 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:29.808 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:29.809 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:29.809 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:29.810 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.810 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Generated random volume: 2
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:29.811 [EURUSD] [RateUpdate-2] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:29.811 [EURUSD] [RateUpdate-2] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:29.811 [] [RateScheduler-3] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:29.811 [] [RateScheduler-3] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:29.811 [USDTRY] [RateUpdate-1] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:30.811 [] [RateScheduler-4] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:30.811 [] [RateScheduler-4] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:30.811859386Z
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:30.811 [] [RateScheduler-4] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:30.811859386Z
2025-06-09 15:52:30.811 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:30.811 [] [RateScheduler-4] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:30.811859386Z is not within any holiday period.
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:30.811859386Z is dow: MONDAY
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:30.811 [] [RateScheduler-4] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:30.812 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:30.812 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:30.812 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.812 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:30.812 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Generated random volume: 6
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:30.813 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.813 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:30.814 [EURUSD] [RateUpdate-3] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:30.814 [EURUSD] [RateUpdate-3] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:30.814 [] [RateScheduler-4] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:30.814 [] [RateScheduler-4] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:30.814 [USDTRY] [RateUpdate-4] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.814 [] [RateScheduler-1] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:31.815 [] [RateScheduler-1] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:31.815081365Z
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:31.815 [] [RateScheduler-1] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:31.815081365Z
2025-06-09 15:52:31.815 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:31.815 [] [RateScheduler-1] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:31.815081365Z is not within any holiday period.
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:31.815081365Z is dow: MONDAY
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:31.815 [] [RateScheduler-1] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:31.815 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:31.815 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:31.815 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.815 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:31.815 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Generated random volume: 9
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:31.816 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Generated random volume: 3
2025-06-09 15:52:31.816 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:31.817 [USDTRY] [RateUpdate-6] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:31.817 [EURUSD] [RateUpdate-5] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:31.817 [] [RateScheduler-1] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:31.817 [] [RateScheduler-1] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
2025-06-09 15:52:32.818 [] [RateScheduler-2] INFO  RateUpdateScheduler - Executing rate update... Iteration 1
2025-06-09 15:52:32.818 [] [RateScheduler-2] TRACE RateSimulatorServiceImpl - Entering updateAllRates method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Starting rate update process at: 2025-06-09T15:52:32.818292547Z
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Computed delta time in seconds: 1.0
2025-06-09 15:52:32.818 [] [RateScheduler-2] TRACE HolidayCalendarService - Checking holiday for 2025-06-09T15:52:32.818292547Z
2025-06-09 15:52:32.818 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: Christmas (2025-04-04T00:00:00Z to 2025-04-05T00:00:00Z)
2025-06-09 15:52:32.818 [] [RateScheduler-2] TRACE HolidayCalendarService - Evaluating holiday: New Year (2025-01-01T00:00:00Z to 2025-01-02T00:00:00Z)
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG HolidayCalendarService - Timestamp 2025-06-09T15:52:32.818292547Z is not within any holiday period.
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Checked if date 2025-06-09T15:52:32.818292547Z is dow: MONDAY
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Market status - isWeekend: false, isHoliday: false
2025-06-09 15:52:32.818 [] [RateScheduler-2] DEBUG RateSimulatorServiceImpl - Weekend gap adjustment required: false
2025-06-09 15:52:32.818 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Processing rate update: EURUSD
2025-06-09 15:52:32.818 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:32.818 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Processing rate update: USDTRY
2025-06-09 15:52:32.818 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:32.818 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getOrInitAssetState method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Current config for USDTRY: drift=0.02, omega=1.0E-12, alpha=0.1, beta=0.9
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: NaN, Old return: 0.0
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: NaN, sigma: NaN
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - New sigma computed: NaN
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Current config for EURUSD: drift=0.02, omega=1.0E-5, alpha=0.1, beta=0.9
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Old price: NaN, Old sigma: 0.009999999999999992, Old return: 0.0
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - GARCH(1,1) variance: 9.999999999999984E-5, sigma: 0.009999999999999992
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting garchUpdate method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - New sigma computed: 0.009999999999999992
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting getDriftAdjustment method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Drift adjustment: 6.341958396752917E-10
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Price updated from NaN to NaN (pre-session adjustments)
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied session volatility multiplier for hour 15: 1.3
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:32.819 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:32.819 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Session vol multiplier: 1.3, final newPrice: NaN
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting applyMeanReversion method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Applied mean reversion, New price: NaN
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined volatility regime: MID_VOL
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting checkRegimeSwitch method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Generated random volume: 4
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Determined new volatility regime: MID_VOL
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Computed return: 0.0
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Generated random volume: 1
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting createNewStateFromOld method in RateSimulatorServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Exiting updatePriceAndVolatility method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: EURUSD
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: EURUSD
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] INFO  RateSimulatorServiceImpl - Updated price and volatility for rate: USDTRY
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] DEBUG ShockServiceImpl - Shock probabilities (per sec) => Small: 4.133597883597884E-6, Medium: 5.787037037037037E-7, Big: 3.1709791983764586E-8
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting processAutomaticShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Processed automatic shocks for rate: USDTRY
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: EURUSD
2025-06-09 15:52:32.820 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: EURUSD
2025-06-09 15:52:32.820 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Entering checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:32.821 [USDTRY] [RateUpdate-8] TRACE ShockServiceImpl - Exiting checkAndApplyCriticalShocks method in ShockServiceImpl.
2025-06-09 15:52:32.821 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Checked and applied critical shocks for rate: USDTRY
2025-06-09 15:52:32.821 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saving asset state for rate: USDTRY
2025-06-09 15:52:32.821 [EURUSD] [RateUpdate-7] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: EURUSD
2025-06-09 15:52:32.821 [EURUSD] [RateUpdate-7] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: EURUSD
2025-06-09 15:52:32.821 [USDTRY] [RateUpdate-8] DEBUG RateSimulatorServiceImpl - Saved asset state for rate: USDTRY
2025-06-09 15:52:32.821 [USDTRY] [RateUpdate-8] TRACE RateSimulatorServiceImpl - Entering buildRateDataResponse method in RateSimulatorServiceImpl: USDTRY
2025-06-09 15:52:32.821 [] [RateScheduler-2] ERROR RateUpdateScheduler - Exception during rate update execution
java.util.concurrent.CompletionException: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320) ~[?:?]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[?:?]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[?:?]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
Caused by: java.lang.NumberFormatException: Character N is neither a decimal digit number, decimal point, nor "e" notation exponential mark.
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:608) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:497) ~[?:?]
	at java.base/java.math.BigDecimal.<init>(BigDecimal.java:903) ~[?:?]
	at java.base/java.math.BigDecimal.valueOf(BigDecimal.java:1371) ~[?:?]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.buildRateDataResponse(RateSimulatorServiceImpl.java:408) ~[!/:0.0.1-SNAPSHOT]
	at com.ratedistribution.rdp.service.concretes.RateSimulatorServiceImpl.lambda$updateAllRates$0(RateSimulatorServiceImpl.java:123) ~[!/:0.0.1-SNAPSHOT]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]
	... 3 more
2025-06-09 15:52:32.821 [] [RateScheduler-2] INFO  RateUpdateScheduler - Next rate update scheduled in 1000 ms
